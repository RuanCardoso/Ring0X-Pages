import{u as e,a as t,j as r,P as a,b as s,d as n,e as o,f as l,g as i,h as c,i as d}from"./radix-BQ4CY2rp.js";import{a as u,L as m,B as h,C as x,d as p,e as g,f,P as v,h as b,U as w,F as j,X as N,I as y,S as C,T as S,i as E,j as T,k,H as P,l as D,m as O,n as R,o as L}from"./utils-CLruAjcP.js";import{c as I,a as _,b as A,B as M,S as z,u as q}from"./index-0iLBWw-2.js";import{D as F,a as $,b as B,c as H,d as U,e as W,A as V,s as J,C as X,f as G,g as Y,h as K,i as Q,j as Z,l as ee,k as te,m as re,n as ae,r as se}from"./logo-DynCT1-j.js";var ne="ScrollArea",[oe]=n(ne),[le,ie]=oe(ne),ce=u.forwardRef((s,n)=>{const{__scopeScrollArea:o,type:l="hover",dir:i,scrollHideDelay:c=600,...d}=s,[m,h]=u.useState(null),[x,p]=u.useState(null),[g,f]=u.useState(null),[v,b]=u.useState(null),[w,j]=u.useState(null),[N,y]=u.useState(0),[C,S]=u.useState(0),[E,T]=u.useState(!1),[k,P]=u.useState(!1),D=e(n,e=>h(e)),O=t(i);return r.jsx(le,{scope:o,type:l,dir:O,scrollHideDelay:c,scrollArea:m,viewport:x,onViewportChange:p,content:g,onContentChange:f,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:E,onScrollbarXEnabledChange:T,scrollbarY:w,onScrollbarYChange:j,scrollbarYEnabled:k,onScrollbarYEnabledChange:P,onCornerWidthChange:y,onCornerHeightChange:S,children:r.jsx(a.div,{dir:O,...d,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":C+"px",...s.style}})})});ce.displayName=ne;var de="ScrollAreaViewport",ue=u.forwardRef((t,s)=>{const{__scopeScrollArea:n,children:o,nonce:l,...i}=t,c=ie(de,n),d=u.useRef(null),m=e(s,d,c.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),r.jsx(a.div,{"data-radix-scroll-area-viewport":"",...i,ref:m,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:r.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});ue.displayName=de;var me="ScrollAreaScrollbar",he=u.forwardRef((e,t)=>{const{forceMount:a,...s}=e,n=ie(me,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=n,i="horizontal"===e.orientation;return u.useEffect(()=>(i?o(!0):l(!0),()=>{i?o(!1):l(!1)}),[i,o,l]),"hover"===n.type?r.jsx(xe,{...s,ref:t,forceMount:a}):"scroll"===n.type?r.jsx(pe,{...s,ref:t,forceMount:a}):"auto"===n.type?r.jsx(ge,{...s,ref:t,forceMount:a}):"always"===n.type?r.jsx(fe,{...s,ref:t}):null});he.displayName=me;var xe=u.forwardRef((e,t)=>{const{forceMount:a,...n}=e,o=ie(me,e.__scopeScrollArea),[l,i]=u.useState(!1);return u.useEffect(()=>{const e=o.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),i(!0)},a=()=>{t=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",a),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",a)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(s,{present:a||l,children:r.jsx(ge,{"data-state":l?"visible":"hidden",...n,ref:t})})}),pe=u.forwardRef((e,t)=>{const{forceMount:a,...n}=e,l=ie(me,e.__scopeScrollArea),i="horizontal"===e.orientation,c=Ae(()=>m("SCROLL_END"),100),[d,m]=(h="hidden",x={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},u.useReducer((e,t)=>x[e][t]??e,h));var h,x;return u.useEffect(()=>{if("idle"===d){const e=window.setTimeout(()=>m("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(e)}},[d,l.scrollHideDelay,m]),u.useEffect(()=>{const e=l.viewport,t=i?"scrollLeft":"scrollTop";if(e){let r=e[t];const a=()=>{const a=e[t];r!==a&&(m("SCROLL"),c()),r=a};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}},[l.viewport,i,m,c]),r.jsx(s,{present:a||"hidden"!==d,children:r.jsx(fe,{"data-state":"hidden"===d?"hidden":"visible",...n,ref:t,onPointerEnter:o(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:o(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),ge=u.forwardRef((e,t)=>{const a=ie(me,e.__scopeScrollArea),{forceMount:n,...o}=e,[l,i]=u.useState(!1),c="horizontal"===e.orientation,d=Ae(()=>{if(a.viewport){const e=a.viewport.offsetWidth<a.viewport.scrollWidth,t=a.viewport.offsetHeight<a.viewport.scrollHeight;i(c?e:t)}},10);return Me(a.viewport,d),Me(a.content,d),r.jsx(s,{present:n||l,children:r.jsx(fe,{"data-state":l?"visible":"hidden",...o,ref:t})})}),fe=u.forwardRef((e,t)=>{const{orientation:a="vertical",...s}=e,n=ie(me,e.__scopeScrollArea),o=u.useRef(null),l=u.useRef(0),[i,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=De(i.viewport,i.content),m={...s,sizes:i,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:e=>l.current=e};function h(e,t){return function(e,t,r,a="ltr"){const s=Oe(r),n=s/2,o=t||n,l=s-o,i=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,u="ltr"===a?[0,d]:[-1*d,0];return Le([i,c],u)(e)}(e,l.current,i,t)}return"horizontal"===a?r.jsx(ve,{...m,ref:t,onThumbPositionChange:()=>{if(n.viewport&&o.current){const e=Re(n.viewport.scrollLeft,i,n.dir);o.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollLeft=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollLeft=h(e,n.dir))}}):"vertical"===a?r.jsx(be,{...m,ref:t,onThumbPositionChange:()=>{if(n.viewport&&o.current){const e=Re(n.viewport.scrollTop,i);o.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollTop=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollTop=h(e))}}):null}),ve=u.forwardRef((t,a)=>{const{sizes:s,onSizesChange:n,...o}=t,l=ie(me,t.__scopeScrollArea),[i,c]=u.useState(),d=u.useRef(null),m=e(a,d,l.onScrollbarXChange);return u.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(Ne,{"data-orientation":"horizontal",...o,ref:m,sizes:s,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Oe(s)+"px",...t.style},onThumbPointerDown:e=>t.onThumbPointerDown(e.x),onDragScroll:e=>t.onDragScroll(e.x),onWheelScroll:(e,r)=>{if(l.viewport){const a=l.viewport.scrollLeft+e.deltaX;t.onWheelScroll(a),Ie(a,r)&&e.preventDefault()}},onResize:()=>{d.current&&l.viewport&&i&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Pe(i.paddingLeft),paddingEnd:Pe(i.paddingRight)}})}})}),be=u.forwardRef((t,a)=>{const{sizes:s,onSizesChange:n,...o}=t,l=ie(me,t.__scopeScrollArea),[i,c]=u.useState(),d=u.useRef(null),m=e(a,d,l.onScrollbarYChange);return u.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(Ne,{"data-orientation":"vertical",...o,ref:m,sizes:s,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Oe(s)+"px",...t.style},onThumbPointerDown:e=>t.onThumbPointerDown(e.y),onDragScroll:e=>t.onDragScroll(e.y),onWheelScroll:(e,r)=>{if(l.viewport){const a=l.viewport.scrollTop+e.deltaY;t.onWheelScroll(a),Ie(a,r)&&e.preventDefault()}},onResize:()=>{d.current&&l.viewport&&i&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Pe(i.paddingTop),paddingEnd:Pe(i.paddingBottom)}})}})}),[we,je]=oe(me),Ne=u.forwardRef((t,s)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:c,onThumbChange:d,onThumbPointerUp:m,onThumbPointerDown:h,onThumbPositionChange:x,onDragScroll:p,onWheelScroll:g,onResize:f,...v}=t,b=ie(me,n),[w,j]=u.useState(null),N=e(s,e=>j(e)),y=u.useRef(null),C=u.useRef(""),S=b.viewport,E=i.content-i.viewport,T=l(g),k=l(x),P=Ae(f,10);function D(e){if(y.current){const t=e.clientX-y.current.left,r=e.clientY-y.current.top;p({x:t,y:r})}}return u.useEffect(()=>{const e=e=>{const t=e.target,r=w?.contains(t);r&&T(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,w,E,T]),u.useEffect(k,[i,k]),Me(w,P),Me(b.content,P),r.jsx(we,{scope:n,scrollbar:w,hasThumb:c,onThumbChange:l(d),onThumbPointerUp:l(m),onThumbPositionChange:k,onThumbPointerDown:l(h),children:r.jsx(a.div,{...v,ref:N,style:{position:"absolute",...v.style},onPointerDown:o(t.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=w.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),D(e)}}),onPointerMove:o(t.onPointerMove,D),onPointerUp:o(t.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),y.current=null})})})}),ye="ScrollAreaThumb",Ce=u.forwardRef((e,t)=>{const{forceMount:a,...n}=e,o=je(ye,e.__scopeScrollArea);return r.jsx(s,{present:a||o.hasThumb,children:r.jsx(Se,{ref:t,...n})})}),Se=u.forwardRef((t,s)=>{const{__scopeScrollArea:n,style:l,...i}=t,c=ie(ye,n),d=je(ye,n),{onThumbPositionChange:m}=d,h=e(s,e=>d.onThumbChange(e)),x=u.useRef(void 0),p=Ae(()=>{x.current&&(x.current(),x.current=void 0)},100);return u.useEffect(()=>{const e=c.viewport;if(e){const t=()=>{if(p(),!x.current){const t=_e(e,m);x.current=t,m()}};return m(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,p,m]),r.jsx(a.div,{"data-state":d.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:o(t.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top;d.onThumbPointerDown({x:r,y:a})}),onPointerUp:o(t.onPointerUp,d.onThumbPointerUp)})});Ce.displayName=ye;var Ee="ScrollAreaCorner",Te=u.forwardRef((e,t)=>{const a=ie(Ee,e.__scopeScrollArea),s=Boolean(a.scrollbarX&&a.scrollbarY);return"scroll"!==a.type&&s?r.jsx(ke,{...e,ref:t}):null});Te.displayName=Ee;var ke=u.forwardRef((e,t)=>{const{__scopeScrollArea:s,...n}=e,o=ie(Ee,s),[l,i]=u.useState(0),[c,d]=u.useState(0),m=Boolean(l&&c);return Me(o.scrollbarX,()=>{const e=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(e),d(e)}),Me(o.scrollbarY,()=>{const e=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(e),i(e)}),m?r.jsx(a.div,{...n,ref:t,style:{width:l,height:c,position:"absolute",right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:0,...e.style}}):null});function Pe(e){return e?parseInt(e,10):0}function De(e,t){const r=e/t;return isNaN(r)?0:r}function Oe(e){const t=De(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function Re(e,t,r="ltr"){const a=Oe(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-s,o=t.content-t.viewport,l=n-a,i=function(e,[t,r]){return Math.min(r,Math.max(t,e))}(e,"ltr"===r?[0,o]:[-1*o,0]);return Le([0,o],[0,l])(i)}function Le(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Ie(e,t){return e>0&&e<t}var _e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function s(){const n={left:e.scrollLeft,top:e.scrollTop},o=r.left!==n.left,l=r.top!==n.top;(o||l)&&t(),r=n,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function Ae(e,t){const r=l(e),a=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(a.current),[]),u.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Me(e,t){const r=l(t);i(()=>{let t=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(t),a.unobserve(e)}}},[e,r])}var ze=ce,qe=ue,Fe=Te;function $e({className:e,children:t,...a}){return r.jsxs(ze,{"data-slot":"scroll-area",className:I("relative",e),...a,children:[r.jsx(qe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),r.jsx(Be,{}),r.jsx(Fe,{})]})}function Be({className:e,orientation:t="vertical",...a}){return r.jsx(he,{"data-slot":"scroll-area-scrollbar",orientation:t,className:I("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...a,children:r.jsx(Ce,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var He=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const a=_(`Primitive.${t}`),s=u.forwardRef((e,s)=>{const{asChild:n,...o}=e,l=n?a:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...o,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Ue="horizontal",We=["horizontal","vertical"],Ve=u.forwardRef((e,t)=>{const{decorative:a,orientation:s=Ue,...n}=e,o=function(e){return We.includes(e)}(s)?s:Ue,l=a?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"};return r.jsx(He.div,{"data-orientation":o,...l,...n,ref:t})});Ve.displayName="Separator";var Je=Ve;function Xe({className:e,orientation:t="horizontal",decorative:a=!0,...s}){return r.jsx(Je,{"data-slot":"separator",decorative:a,orientation:t,className:I("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}function Ge({className:e,type:t,...a}){return r.jsx("input",{type:t,"data-slot":"input",className:I("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}const Ye=A("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ke({className:e,variant:t,...a}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:I(Ye({variant:t}),e),...a})}function Qe({className:e,...t}){return r.jsx("div",{"data-slot":"alert-description",className:I("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function Ze(){const[e,t]=u.useState(!1),[a,s]=u.useState(!0),[n,o]=u.useState(!1);u.useEffect(()=>{e||(s(!0),d({email:"",password:"",name:"",confirmPassword:""}))},[e]);const[l,i]=u.useState({show:!1,message:"",variant:"default"}),[c,d]=u.useState({email:"",password:"",name:"",confirmPassword:""}),h=e=>{d({...c,[e.target.name]:e.target.value})},x=(e,t="default")=>{i({show:!0,message:e,variant:t}),setTimeout(()=>i({show:!1,message:"",variant:"default"}),5e3)};return r.jsxs(F,{open:e,onOpenChange:t,children:[r.jsx($,{asChild:!0,children:r.jsx(M,{"data-testid":"login-trigger",variant:"ghost",className:"w-full text-white hover:bg-neutral-800 border border-neutral-700",children:"Login"})}),r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsx(U,{className:"text-xl font-bold",children:a?"Entrar na sua conta":"Criar nova conta"}),r.jsx(W,{className:"text-neutral-400",children:a?"Digite suas credenciais para acessar a plataforma":"Preencha os dados abaixo para criar sua conta"})]}),l.show&&r.jsx(Ke,{variant:l.variant,className:"mt-4",children:r.jsx(Qe,{children:l.message})}),r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),o(!0),a)try{const e=await fetch(V.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})}),r=await e.json();200===r.StatusCode&&r.Result?(J(r.Result.token,r.Result),x("Login realizado com sucesso!","default"),window.dispatchEvent(new CustomEvent("login-success")),t(!1),d({email:"",password:"",name:"",confirmPassword:""})):x(r.StatusMessage||"Erro ao fazer login. Tente novamente.","destructive")}catch(r){console.error("Erro na requisição:",r),x("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{o(!1)}else try{const e=await fetch(V.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password,fullname:c.name})}),t=await e.json();200===t.StatusCode?(x(t.StatusMessage,"default"),s(!0)):x(t.StatusMessage||"Erro ao criar conta. Tente novamente.","destructive")}catch(r){console.error("Erro na requisição:",r),x("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{o(!1)}a||(t(!1),d({email:"",password:"",name:"",confirmPassword:""}))},className:"space-y-4",children:[!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-neutral-300",children:"Nome completo"}),r.jsx(Ge,{id:"name",name:"name",type:"text",value:c.name,onChange:h,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Seu nome completo"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-neutral-300",children:"E-mail"}),r.jsx(Ge,{id:"email",name:"email",type:"email",value:c.email,onChange:h,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"seu@email.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-neutral-300",children:"Senha"}),r.jsx(Ge,{id:"password",name:"password",type:"password",value:c.password,onChange:h,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),!a&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-neutral-300",children:"Confirmar senha"}),r.jsx(Ge,{id:"confirmPassword",name:"confirmPassword",type:"password",value:c.confirmPassword,onChange:h,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),r.jsx(M,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Entrando...":"Criando conta..."]}):r.jsx(r.Fragment,{children:a?"Entrar":"Criar conta"})})]}),r.jsxs("div",{className:"mt-4 text-center space-y-2",children:[r.jsx("button",{type:"button",onClick:()=>{s(!a),d({email:"",password:"",name:"",confirmPassword:""})},className:"text-sm text-green-400 hover:text-green-300 transition-colors",children:a?"Não tem uma conta? Criar conta":"Já tem uma conta? Fazer login"}),a&&r.jsx("button",{type:"button",onClick:()=>{t(!1),setTimeout(()=>{const e=document.querySelector('[data-testid="recover-trigger"]');e&&e.click()},100)},className:"block w-full text-sm text-neutral-400 hover:text-neutral-300 transition-colors",children:"Esqueceu sua senha?"})]})]})]})}function et(){const[e,t]=u.useState(!1),[a,s]=u.useState(!1),[n,o]=u.useState({show:!1,message:"",variant:"default"}),[l,i]=u.useState({name:"",email:"",password:"",confirmPassword:""}),c=e=>{i({...l,[e.target.name]:e.target.value})},d=(e,t="default")=>{o({show:!0,message:e,variant:t}),setTimeout(()=>o({show:!1,message:"",variant:"default"}),5e3)};return r.jsxs(F,{open:e,onOpenChange:t,children:[r.jsx($,{asChild:!0,children:r.jsx(M,{className:"w-full bg-green-600 text-white hover:bg-green-700",children:"Criar conta"})}),r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsx(U,{className:"text-xl font-bold",children:"Criar nova conta"}),r.jsx(W,{className:"text-neutral-400",children:"Preencha os dados abaixo para criar sua conta"})]}),n.show&&r.jsx(Ke,{variant:n.variant,className:"mt-4",children:r.jsx(Qe,{children:n.message})}),r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),s(!0);try{const e=await fetch(V.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.email,password:l.password,fullname:l.name})}),r=await e.json();200===r.StatusCode?(d(r.StatusMessage,"default"),t(!1),setTimeout(()=>{const e=document.querySelector('[data-testid="login-trigger"]');e&&e.click()},100)):d(r.StatusMessage||"Erro ao criar conta. Tente novamente.","destructive")}catch(r){console.error("Erro na requisição:",r),d("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{s(!1)}i({name:"",email:"",password:"",confirmPassword:""})},className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-neutral-300",children:"Nome completo"}),r.jsx(Ge,{id:"name",name:"name",type:"text",value:l.name,onChange:c,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Seu nome completo"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-neutral-300",children:"E-mail"}),r.jsx(Ge,{id:"email",name:"email",type:"email",value:l.email,onChange:c,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"seu@email.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-neutral-300",children:"Senha"}),r.jsx(Ge,{id:"password",name:"password",type:"password",value:l.password,onChange:c,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-neutral-300",children:"Confirmar senha"}),r.jsx(Ge,{id:"confirmPassword",name:"confirmPassword",type:"password",value:l.confirmPassword,onChange:c,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),r.jsx(M,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar conta"})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("span",{className:"text-sm text-neutral-400",children:["Já tem uma conta?"," ",r.jsx("button",{type:"button",onClick:()=>{t(!1),setTimeout(()=>{const e=document.querySelector('[data-testid="login-trigger"]');e&&e.click()},100)},className:"text-green-400 hover:text-green-300 transition-colors",children:"Fazer login"})]})})]})]})}var tt=Object.defineProperty,rt=Object.defineProperties,at=Object.getOwnPropertyDescriptors,st=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,lt=(e,t,r)=>t in e?tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var it=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");var ct=u.createContext({}),dt=u.forwardRef((e,t)=>{var r,a,s,n,o,l=e,{value:i,onChange:c,maxLength:d,textAlign:m="left",pattern:h,placeholder:x,inputMode:p="numeric",onComplete:g,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:v,containerClassName:b,noScriptCSSFallback:w=mt,render:j,children:N}=l,y=((e,t)=>{var r={};for(var a in e)nt.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&st)for(var a of st(e))t.indexOf(a)<0&&ot.call(e,a)&&(r[a]=e[a]);return r})(l,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[C,S]=u.useState("string"==typeof y.defaultValue?y.defaultValue:""),E=null!=i?i:C,T=function(e){let t=u.useRef();return u.useEffect(()=>{t.current=e}),t.current}(E),k=u.useCallback(e=>{null==c||c(e),S(e)},[c]),P=u.useMemo(()=>h?"string"==typeof h?new RegExp(h):h:null,[h]),D=u.useRef(null),O=u.useRef(null),R=u.useRef({value:E,onChange:k,isIOS:"undefined"!=typeof window&&(null==(a=null==(r=null==window?void 0:window.CSS)?void 0:r.supports)?void 0:a.call(r,"-webkit-touch-callout","none"))}),L=u.useRef({prev:[null==(s=D.current)?void 0:s.selectionStart,null==(n=D.current)?void 0:n.selectionEnd,null==(o=D.current)?void 0:o.selectionDirection]});u.useImperativeHandle(t,()=>D.current,[]),u.useEffect(()=>{let e=D.current,t=O.current;if(!e||!t)return;function r(){if(document.activeElement!==e)return q(null),void $(null);let t,r=e.selectionStart,a=e.selectionEnd,s=e.selectionDirection,n=e.maxLength,o=e.value,l=L.current.prev,i=-1,c=-1;if(0!==o.length&&null!==r&&null!==a){let e=r===a,s=r===o.length&&o.length<n;if(e&&!s){let e=r;if(0===e)i=0,c=1,t="forward";else if(e===n)i=e-1,c=e,t="backward";else if(n>1&&o.length>1){let r=0;if(null!==l[0]&&null!==l[1]){t=e<l[1]?"backward":"forward";let a=l[0]===l[1]&&l[0]<n;"backward"===t&&!a&&(r=-1)}i=r+e,c=r+e+1}}-1!==i&&-1!==c&&i!==c&&D.current.setSelectionRange(i,c,t)}let d=-1!==i?i:r,u=-1!==c?c:a,m=null!=t?t:s;q(d),$(u),L.current.prev=[d,u,m]}if(R.current.value!==e.value&&R.current.onChange(e.value),L.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",r,{capture:!0}),r(),document.activeElement===e&&M(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";ut(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),ut(e.sheet,`[data-input-otp]:autofill { ${t} }`),ut(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),ut(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),ut(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let a=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};a();let s=new ResizeObserver(a);return s.observe(e),()=>{document.removeEventListener("selectionchange",r,{capture:!0}),s.disconnect()}},[]);let[I,_]=u.useState(!1),[A,M]=u.useState(!1),[z,q]=u.useState(null),[F,$]=u.useState(null);u.useEffect(()=>{!function(e){setTimeout(e,0),setTimeout(e,10),setTimeout(e,50)}(()=>{var e,t,r,a;null==(e=D.current)||e.dispatchEvent(new Event("input"));let s=null==(t=D.current)?void 0:t.selectionStart,n=null==(r=D.current)?void 0:r.selectionEnd,o=null==(a=D.current)?void 0:a.selectionDirection;null!==s&&null!==n&&(q(s),$(n),L.current.prev=[s,n,o])})},[E,A]),u.useEffect(()=>{void 0!==T&&E!==T&&T.length<d&&E.length===d&&(null==g||g(E))},[d,g,T,E]);let B=function({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:a}){let[s,n]=u.useState(!1),[o,l]=u.useState(!1),[i,c]=u.useState(!1),d=u.useMemo(()=>"none"!==r&&("increase-width"===r||"experimental-no-flickering"===r)&&s&&o,[s,o,r]),m=u.useCallback(()=>{let a=e.current,s=t.current;if(!a||!s||i||"none"===r)return;let o=a,l=o.getBoundingClientRect().left+o.offsetWidth-18,d=o.getBoundingClientRect().top+o.offsetHeight/2;0===document.querySelectorAll(it).length&&document.elementFromPoint(l,d)===a||(n(!0),c(!0))},[e,t,i,r]);return u.useEffect(()=>{let t=e.current;if(!t||"none"===r)return;function a(){let e=window.innerWidth-t.getBoundingClientRect().right;l(e>=40)}a();let s=setInterval(a,1e3);return()=>{clearInterval(s)}},[e,r]),u.useEffect(()=>{let e=a||document.activeElement===t.current;if("none"===r||!e)return;let s=setTimeout(m,0),n=setTimeout(m,2e3),o=setTimeout(m,5e3),l=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(s),clearTimeout(n),clearTimeout(o),clearTimeout(l)}},[t,a,r,m]),{hasPWMBadge:s,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:O,inputRef:D,pushPasswordManagerStrategy:f,isFocused:A}),H=u.useCallback(e=>{let t=e.currentTarget.value.slice(0,d);t.length>0&&P&&!P.test(t)?e.preventDefault():("string"==typeof T&&t.length<T.length&&document.dispatchEvent(new Event("selectionchange")),k(t))},[d,k,T,P]),U=u.useCallback(()=>{var e;if(D.current){let t=Math.min(D.current.value.length,d-1),r=D.current.value.length;null==(e=D.current)||e.setSelectionRange(t,r),q(t),$(r)}M(!0)},[d]),W=u.useCallback(e=>{var t,r;let a=D.current;if(!(v||R.current.isIOS&&e.clipboardData&&a))return;let s=e.clipboardData.getData("text/plain"),n=v?v(s):s;e.preventDefault();let o=null==(t=D.current)?void 0:t.selectionStart,l=null==(r=D.current)?void 0:r.selectionEnd,i=(o!==l?E.slice(0,o)+n+E.slice(l):E.slice(0,o)+n+E.slice(o)).slice(0,d);if(i.length>0&&P&&!P.test(i))return;a.value=i,k(i);let c=Math.min(i.length,d-1),u=i.length;a.setSelectionRange(c,u),q(c),$(u)},[d,k,P,E]),V=u.useMemo(()=>({position:"relative",cursor:y.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[y.disabled]),J=u.useMemo(()=>({position:"absolute",inset:0,width:B.willPushPWMBadge?`calc(100% + ${B.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:B.willPushPWMBadge?`inset(0 ${B.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:m,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[B.PWM_BADGE_SPACE_WIDTH,B.willPushPWMBadge,m]),X=u.useMemo(()=>u.createElement("input",((e,t)=>rt(e,at(t)))(((e,t)=>{for(var r in t||(t={}))nt.call(t,r)&&lt(e,r,t[r]);if(st)for(var r of st(t))ot.call(t,r)&&lt(e,r,t[r]);return e})({autoComplete:y.autoComplete||"one-time-code"},y),{"data-input-otp":!0,"data-input-otp-placeholder-shown":0===E.length||void 0,"data-input-otp-mss":z,"data-input-otp-mse":F,inputMode:p,pattern:null==P?void 0:P.source,"aria-placeholder":x,style:J,maxLength:d,value:E,ref:D,onPaste:e=>{var t;W(e),null==(t=y.onPaste)||t.call(y,e)},onChange:H,onMouseOver:e=>{var t;_(!0),null==(t=y.onMouseOver)||t.call(y,e)},onMouseLeave:e=>{var t;_(!1),null==(t=y.onMouseLeave)||t.call(y,e)},onFocus:e=>{var t;U(),null==(t=y.onFocus)||t.call(y,e)},onBlur:e=>{var t;M(!1),null==(t=y.onBlur)||t.call(y,e)}})),[H,U,W,p,J,d,F,z,y,null==P?void 0:P.source,E]),G=u.useMemo(()=>({slots:Array.from({length:d}).map((e,t)=>{var r;let a=A&&null!==z&&null!==F&&(z===F&&t===z||t>=z&&t<F),s=void 0!==E[t]?E[t]:null;return{char:s,placeholderChar:void 0!==E[0]?null:null!=(r=null==x?void 0:x[t])?r:null,isActive:a,hasFakeCaret:a&&null===s}}),isFocused:A,isHovering:!y.disabled&&I}),[A,I,d,F,z,y.disabled,E]),Y=u.useMemo(()=>j?j(G):u.createElement(ct.Provider,{value:G},N),[N,G,j]);return u.createElement(u.Fragment,null,null!==w&&u.createElement("noscript",null,u.createElement("style",null,w)),u.createElement("div",{ref:O,"data-input-otp-container":!0,style:V,className:b},Y,u.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},X)))});function ut(e,t){try{e.insertRule(t)}catch(r){console.error("input-otp could not insert CSS rule:",t)}}dt.displayName="Input";var mt="\n[data-input-otp] {\n  --nojs-bg: white !important;\n  --nojs-fg: black !important;\n\n  background-color: var(--nojs-bg) !important;\n  color: var(--nojs-fg) !important;\n  caret-color: var(--nojs-fg) !important;\n  letter-spacing: .25em !important;\n  text-align: center !important;\n  border: 1px solid var(--nojs-fg) !important;\n  border-radius: 4px !important;\n  width: 100% !important;\n}\n@media (prefers-color-scheme: dark) {\n  [data-input-otp] {\n    --nojs-bg: black !important;\n    --nojs-fg: white !important;\n  }\n}";function ht({className:e,containerClassName:t,...a}){return r.jsx(dt,{"data-slot":"input-otp",containerClassName:I("flex items-center gap-2 has-disabled:opacity-50",t),className:I("disabled:cursor-not-allowed",e),...a})}function xt({className:e,...t}){return r.jsx("div",{"data-slot":"input-otp-group",className:I("flex items-center",e),...t})}function pt({index:e,className:t,...a}){const s=u.useContext(ct),{char:n,hasFakeCaret:o,isActive:l}=s?.slots[e]??{};return r.jsxs("div",{"data-slot":"input-otp-slot","data-active":l,className:I("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...a,children:[n,o&&r.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function gt(){const[e,t]=u.useState(!1),[a,s]=u.useState(1),[n,o]=u.useState(!1),[l,i]=u.useState({show:!1,message:"",variant:"default"}),[c,d]=u.useState({email:"",code:"",newPassword:"",confirmPassword:""}),h=(e,t="default")=>{i({show:!0,message:e,variant:t}),setTimeout(()=>i({show:!1,message:"",variant:"default"}),5e3)},x=e=>{d({...c,[e.target.name]:e.target.value})};return r.jsxs(F,{open:e,onOpenChange:e=>{t(e),e||(s(1),d({email:"",code:"",newPassword:"",confirmPassword:""}))},children:[r.jsx($,{asChild:!0,children:r.jsx(M,{"data-testid":"recover-trigger",variant:"ghost",className:"w-full text-white hover:bg-neutral-800 border border-neutral-700",children:"Recuperar Senha"})}),r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsxs(U,{className:"text-xl font-bold",children:[1===a&&"Recuperar Senha",2===a&&"Verificar Código",3===a&&"Nova Senha"]}),r.jsxs(W,{className:"text-neutral-400",children:[1===a&&"Digite seu e-mail para receber um código de recuperação",2===a&&"Digite o código de 6 dígitos enviado para seu e-mail",3===a&&"Digite sua nova senha"]})]}),l.show&&r.jsx(Ke,{variant:l.variant,className:"mt-4",children:r.jsx(Qe,{children:l.message})}),1===a&&r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{const e=await fetch(V.RECOVER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email})}),t=await e.json();200===t.StatusCode?(h(t.StatusMessage,"default"),s(2)):h(t.StatusMessage||"Erro ao enviar código. Tente novamente.","destructive")}catch(t){console.error("Erro na requisição:",t),h("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{o(!1)}},className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-neutral-300",children:"E-mail"}),r.jsx(Ge,{id:"email",name:"email",type:"email",value:c.email,onChange:x,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"seu@email.com"})]}),r.jsx(M,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Código"})]}),2===a&&r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{const e=await fetch(V.VERIFY_CODE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,code:c.code})}),t=await e.json();200===t.StatusCode?(h(t.StatusMessage,"default"),s(3)):h(t.StatusMessage||"Código inválido. Tente novamente.","destructive")}catch(t){console.error("Erro na requisição:",t),h("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{o(!1)}},className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Código de Verificação"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(ht,{maxLength:6,value:c.code,onChange:e=>{d({...c,code:e})},children:r.jsxs(xt,{children:[r.jsx(pt,{index:0}),r.jsx(pt,{index:1}),r.jsx(pt,{index:2}),r.jsx(pt,{index:3}),r.jsx(pt,{index:4}),r.jsx(pt,{index:5})]})})})]}),r.jsx(M,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:n||6!==c.code.length,children:n?r.jsxs(r.Fragment,{children:[r.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),"Verificando..."]}):"Verificar Código"})]}),3===a&&r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c.newPassword===c.confirmPassword){o(!0);try{const e=await fetch(V.RESET_PASSWORD,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,code:c.code,newPassword:c.newPassword})}),r=await e.json();200===r.StatusCode?(h(r.StatusMessage,"default"),setTimeout(()=>{t(!1),s(1),d({email:"",code:"",newPassword:"",confirmPassword:""});const e=document.querySelector('[data-testid="login-trigger"]');e&&e.click()},2e3)):h(r.StatusMessage||"Erro ao redefinir senha. Tente novamente.","destructive")}catch(r){console.error("Erro na requisição:",r),h("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{o(!1)}}else h("As senhas não coincidem.","destructive")},className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"newPassword",className:"text-sm font-medium text-neutral-300",children:"Nova Senha"}),r.jsx(Ge,{id:"newPassword",name:"newPassword",type:"password",value:c.newPassword,onChange:x,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-neutral-300",children:"Confirmar Nova Senha"}),r.jsx(Ge,{id:"confirmPassword",name:"confirmPassword",type:"password",value:c.confirmPassword,onChange:x,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),r.jsx(M,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Redefinir Senha"})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("button",{type:"button",onClick:()=>{t(!1),setTimeout(()=>{const e=document.querySelector('[data-testid="login-trigger"]');e&&e.click()},100)},className:"text-sm text-green-400 hover:text-green-300 transition-colors",children:"Voltar para o Login"})})]})]})}const ft=A("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function vt({className:e,variant:t="default",asChild:a=!1,...s}){const n=a?z:"span";return r.jsx(n,{"data-slot":"badge","data-variant":t,className:I(ft({variant:t}),e),...s})}function bt(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const a=r.reduce((t,{useScope:r,scopeName:a})=>({...t,...r(e)[`__scope${a}`]}),{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var wt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const a=_(`Primitive.${t}`),s=u.forwardRef((e,s)=>{const{asChild:n,...o}=e,l=n?a:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...o,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),jt="Progress",Nt=100,[yt]=function(e,t=[]){let a=[];const s=()=>{const t=a.map(e=>u.createContext(e));return function(r){const a=r?.[e]||t;return u.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return s.scopeName=e,[function(t,s){const n=u.createContext(s);n.displayName=t+"Context";const o=a.length;a=[...a,s];const l=t=>{const{scope:a,children:s,...l}=t,i=a?.[e]?.[o]||n,c=u.useMemo(()=>l,Object.values(l));return r.jsx(i.Provider,{value:c,children:s})};return l.displayName=t+"Provider",[l,function(r,a){const l=a?.[e]?.[o]||n,i=u.useContext(l);if(i)return i;if(void 0!==s)return s;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},bt(s,...t)]}(jt),[Ct,St]=yt(jt),Et=u.forwardRef((e,t)=>{const{__scopeProgress:a,value:s=null,max:n,getValueLabel:o=Pt,...l}=e;!n&&0!==n||Rt(n)||console.error(`Invalid prop \`max\` of value \`${`${n}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const i=Rt(n)?n:Nt;null===s||Lt(s,i)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${s}`,"Progress"));const c=Lt(s,i)?s:null,d=Ot(c)?o(c,i):void 0;return r.jsx(Ct,{scope:a,value:c,max:i,children:r.jsx(wt.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":Ot(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Dt(c,i),"data-value":c??void 0,"data-max":i,...l,ref:t})})});Et.displayName=jt;var Tt="ProgressIndicator",kt=u.forwardRef((e,t)=>{const{__scopeProgress:a,...s}=e,n=St(Tt,a);return r.jsx(wt.div,{"data-state":Dt(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:t})});function Pt(e,t){return`${Math.round(e/t*100)}%`}function Dt(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Ot(e){return"number"==typeof e}function Rt(e){return Ot(e)&&!isNaN(e)&&e>0}function Lt(e,t){return Ot(e)&&!isNaN(e)&&e<=t&&e>=0}kt.displayName=Tt;var It=Et,_t=kt;function At({className:e,value:t,...a}){return r.jsx(It,{"data-slot":"progress",className:I("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:r.jsx(_t,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function Mt({children:e}){const[t,a]=u.useState(!1),s=e=>{switch(e){case"completed":return r.jsx(vt,{className:"bg-green-600 hover:bg-green-700",children:"Concluído"});case"in_progress":return r.jsx(vt,{className:"bg-blue-600 hover:bg-blue-700",children:"Em andamento"});case"not_started":return r.jsx(vt,{variant:"secondary",children:"Não iniciado"});default:return null}},n=e=>{switch(e){case"completed":return r.jsx(x,{className:"h-5 w-5 text-green-400"});case"in_progress":return r.jsx(p,{className:"h-5 w-5 text-blue-400"});case"not_started":return r.jsx(f,{className:"h-5 w-5 text-neutral-400"});default:return null}};return r.jsxs(F,{open:t,onOpenChange:a,children:[r.jsx($,{asChild:!0,children:e}),r.jsx(B,{className:"bg-neutral-950 border-neutral-800 text-white w-[calc(100vw-1.5rem)] sm:w-full max-w-6xl sm:max-w-6xl max-h-[90vh] overflow-hidden p-0",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs(H,{className:"px-4 sm:px-6 py-4 border-b border-neutral-800",children:[r.jsx(U,{className:"text-2xl font-bold text-white",children:"Meus Cursos"}),r.jsx(W,{className:"text-neutral-400",children:"Acompanhe seu progresso e continue seus estudos"})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(X,{className:"bg-neutral-900 border-neutral-800",children:r.jsx(G,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(h,{className:"h-8 w-8 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:"4"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Cursos"})]})]})})}),r.jsx(X,{className:"bg-neutral-900 border-neutral-800",children:r.jsx(G,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(x,{className:"h-8 w-8 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:"1"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Concluídos"})]})]})})}),r.jsx(X,{className:"bg-neutral-900 border-neutral-800",children:r.jsx(G,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(p,{className:"h-8 w-8 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:"2"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Em andamento"})]})]})})}),r.jsx(X,{className:"bg-neutral-900 border-neutral-800",children:r.jsx(G,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(g,{className:"h-8 w-8 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:"42h"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Total de conteúdo"})]})]})})})]}),r.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[{id:1,title:"Desenvolvimento Web Completo",instructor:"Ruan Cardoso",progress:75,totalLessons:45,completedLessons:34,duration:"12h 30min",thumbnail:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=200&fit=crop",status:"in_progress",lastAccessed:"Há 2 dias"},{id:2,title:"React Avançado",instructor:"Ruan Cardoso",progress:100,totalLessons:32,completedLessons:32,duration:"8h 15min",thumbnail:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=400&h=200&fit=crop",status:"completed",lastAccessed:"Há 1 semana"},{id:3,title:"Cybersecurity Fundamentals",instructor:"Ruan Cardoso",progress:30,totalLessons:28,completedLessons:8,duration:"6h 45min",thumbnail:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=400&h=200&fit=crop",status:"in_progress",lastAccessed:"Há 5 dias"},{id:4,title:"Machine Learning Basics",instructor:"Ruan Cardoso",progress:0,totalLessons:40,completedLessons:0,duration:"15h 20min",thumbnail:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?w=400&h=200&fit=crop",status:"not_started",lastAccessed:"Nunca"}].map(e=>r.jsxs(X,{className:"bg-neutral-900 border-neutral-800 hover:border-neutral-700 transition-colors",children:[r.jsx(Y,{className:"pb-3",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative shrink-0 w-full sm:w-24 h-40 sm:h-16 rounded-lg overflow-hidden",children:[r.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:n(e.status)})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx(K,{className:"text-lg font-semibold text-white leading-snug wrap-break-word mb-1",children:e.title}),r.jsxs("p",{className:"text-sm text-neutral-400 mb-2",children:["por ",e.instructor]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s(e.status),r.jsx("span",{className:"text-xs text-neutral-500",children:e.lastAccessed})]})]})]})}),r.jsx(G,{className:"pt-0",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-neutral-400",children:"Progresso"}),r.jsxs("span",{className:"text-white font-medium",children:[e.progress,"%"]})]}),r.jsx(At,{value:e.progress,className:"h-2 bg-neutral-700"})]}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-neutral-400",children:[r.jsxs("span",{children:[e.completedLessons,"/",e.totalLessons," ","aulas"]}),r.jsx("span",{children:e.duration})]})}),r.jsx(M,{className:"w-full bg-green-600 hover:bg-green-700 text-white",disabled:"not_started"===e.status,children:"completed"===e.status?"Rever Curso":"in_progress"===e.status?"Continuar":"Começar Curso"})]})})]},e.id))})]})]})})]})}const zt=async(e,t={})=>{const r=Q();if(!r)throw new Error("Token de autenticação não encontrado");const a={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...t.headers},s=await fetch(e,{...t,headers:a});if(!s.ok){const e=await s.json().catch(()=>({}));throw new Error(e.message||`HTTP error! status: ${s.status}`)}return s.json()},qt=async()=>await zt(V.CATEGORIES,{method:"GET"}),Ft=async(e,t)=>await zt(V.CATEGORIES_CREATE,{method:"POST",body:JSON.stringify({name:e,description:t})}),$t=async(e,t,r)=>await zt(V.CATEGORIES_UPDATE,{method:"POST",body:JSON.stringify({id:e,name:t,description:r})}),Bt=async e=>await zt(V.CATEGORIES_DELETE,{method:"POST",body:JSON.stringify({id:e})}),Ht=async(e,t,r)=>await zt(V.COURSES_CREATE,{method:"POST",body:JSON.stringify({categoryId:e,title:t,description:r})}),Ut=async(e,t,r)=>await zt(V.COURSES_UPDATE,{method:"POST",body:JSON.stringify({id:e,title:t,description:r})}),Wt=async e=>await zt(V.COURSES_DELETE,{method:"POST",body:JSON.stringify({id:e})}),Vt=async(e,t,r,a)=>await zt(V.LESSONS_CREATE,{method:"POST",body:JSON.stringify({courseId:e,title:t,duration:r,description:a})}),Jt=async(e,t,r,a,s)=>await zt(V.LESSONS_UPDATE,{method:"POST",body:JSON.stringify({id:e,title:t,duration:r,description:a,isPaid:s})}),Xt=async e=>await zt(V.LESSONS_DELETE,{method:"POST",body:JSON.stringify({id:e})}),Gt=async e=>await zt(`${V.COURSES_BY_CATEGORY}?categoryId=${e}`,{method:"GET"}),Yt=async e=>await zt(`${V.LESSONS_BY_COURSE}?courseId=${e}`,{method:"GET"}),Kt=async(e,t,r)=>await(async(e,t,r,a)=>{const s=Q();if(!s)throw new Error("Token de autenticação não encontrado");const n=52428800,o=Math.ceil(t.size/n),l=async(t,n,o)=>{const l=new FormData;l.append("video",t);const i={lessonId:a,chunkIndex:n,totalChunks:o},c=new Blob([JSON.stringify(i)],{type:"application/json"}),d=new File([c],"videoPath.json",{type:"application/json"});return l.append("videoPath",d),new Promise((t,a)=>{const i=new XMLHttpRequest;r&&i.upload.addEventListener("progress",e=>{if(e.lengthComputable){const t=n/o*90,a=e.loaded/e.total*(90/o),s=Math.round(t+a);r(Math.min(s,90))}}),i.addEventListener("load",()=>{if(i.status>=200&&i.status<300)try{const e=JSON.parse(i.responseText);t(e)}catch(e){a(new Error("Resposta inválida do servidor"))}else try{const e=JSON.parse(i.responseText);a(new Error(e.message||`HTTP error! status: ${i.status}`))}catch{a(new Error(`HTTP error! status: ${i.status}`))}}),i.addEventListener("error",()=>{a(new Error("Erro de conexão"))}),i.open("POST",e),i.setRequestHeader("Authorization",`Bearer ${s}`),i.send(l)})};for(let c=0;c<o;c++){const e=c*n,r=Math.min(e+n,t.size),a=t.slice(e,r);try{await l(a,c,o)}catch(i){throw new Error(`Erro ao fazer upload da parte ${c+1}/${o}: ${i.message}`)}}return{StatusCode:200,StatusMessage:"Upload concluído com sucesso"}})(V.VIDEO_UPLOAD,e,t,r);function Qt({isOpen:e,onOpenChange:t,categoryName:a,onCategoryNameChange:s,categoryDescription:n,onCategoryDescriptionChange:o,onCreateCategory:l}){return r.jsxs(F,{open:e,onOpenChange:t,children:[r.jsx($,{asChild:!0,children:r.jsxs(M,{className:"bg-green-600 hover:bg-green-700",children:[r.jsx(v,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})}),r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsx(U,{children:"Criar Nova Categoria"}),r.jsx(W,{className:"text-neutral-400",children:"Digite o nome da nova categoria para adicionar ao dashboard."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx(Ge,{value:a,onChange:e=>s(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Nome da categoria",onKeyDown:e=>{"Enter"===e.key&&l()}}),r.jsx("textarea",{value:n,onChange:e=>o(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"Descrição da categoria",rows:3,required:!0})]}),r.jsxs(Z,{children:[r.jsx(M,{onClick:()=>{t(!1),s(""),o("")},className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),r.jsx(M,{onClick:l,className:"bg-green-600 hover:bg-green-700",disabled:!a.trim()||!n.trim(),children:"Criar Categoria"})]})]})]})}function Zt({isOpen:e,onOpenChange:t,courseTitle:a,onCourseTitleChange:s,courseDescription:n,onCourseDescriptionChange:o,onCreateCourse:l,selectedCategoryId:i,categories:c}){const d=c.find(e=>e.id===i);return r.jsxs(F,{open:e,onOpenChange:t,children:[r.jsx($,{asChild:!0,children:r.jsxs(M,{variant:"ghost",className:"border border-neutral-700 hover:bg-neutral-900",disabled:!i,children:[r.jsx(v,{className:"h-4 w-4 mr-2"}),"Novo Curso"]})}),r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsx(U,{children:"Criar Novo Curso"}),r.jsx(W,{className:"text-neutral-400",children:i?`Adicionando um novo curso à categoria: ${d?.name}`:"Selecione uma categoria primeiro para criar um curso."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx(Ge,{value:a,onChange:e=>s(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Título do curso",onKeyDown:e=>{"Enter"===e.key&&l()}}),r.jsx("textarea",{value:n,onChange:e=>o(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"Descrição do curso",rows:3,required:!0})]}),r.jsxs(Z,{children:[r.jsx(M,{onClick:()=>{t(!1),s(""),o("")},className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),r.jsx(M,{onClick:l,className:"bg-green-600 hover:bg-green-700",disabled:!a.trim()||!n.trim()||!i,children:"Criar Curso"})]})]})]})}function er({isOpen:e,onOpenChange:t,lessonTitle:a,onLessonTitleChange:s,lessonDuration:n,onLessonDurationChange:o,lessonDescription:l,onLessonDescriptionChange:i,onCreateLesson:c,selectedCategoryId:d,selectedCourseId:u,categories:m}){const h=m.find(e=>e.id===d),x=h?.courses.find(e=>e.id===u);return r.jsxs(F,{open:e,onOpenChange:t,children:[r.jsx($,{asChild:!0,children:r.jsxs(M,{variant:"ghost",className:"border border-neutral-700 hover:bg-neutral-900",disabled:!u,children:[r.jsx(v,{className:"h-4 w-4 mr-2"}),"Nova Aula"]})}),r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsx(U,{children:"Criar Nova Aula"}),r.jsx(W,{className:"text-neutral-400",children:u?`Adicionando uma nova aula ao curso: ${x?.title}`:"Selecione um curso primeiro para criar uma aula."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx(Ge,{value:a,onChange:e=>s(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Título da aula"}),r.jsx(Ge,{value:n,onChange:e=>o(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Duração (ex: 15:30)"}),r.jsx("textarea",{value:l,onChange:e=>i(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"Descrição da aula",rows:3,required:!0})]}),r.jsxs(Z,{children:[r.jsx(M,{onClick:()=>{t(!1),s(""),o(""),i("")},className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),r.jsx(M,{onClick:c,className:"bg-green-600 hover:bg-green-700",disabled:!(a.trim()&&n.trim()&&l.trim()&&u),children:"Criar Aula"})]})]})]})}var tr="Checkbox",[rr]=n(tr),[ar,sr]=rr(tr);function nr(e){const{__scopeCheckbox:t,checked:a,children:s,defaultChecked:n,disabled:o,form:l,name:i,onCheckedChange:d,required:m,value:h="on",internal_do_not_use_render:x}=e,[p,g]=c({prop:a,defaultProp:n??!1,onChange:d,caller:tr}),[f,v]=u.useState(null),[b,w]=u.useState(null),j=u.useRef(!1),N=!f||(!!l||!!f.closest("form")),y={checked:p,disabled:o,setChecked:g,control:f,setControl:v,name:i,form:l,value:h,hasConsumerStoppedPropagationRef:j,required:m,defaultChecked:!xr(n)&&n,isFormControl:N,bubbleInput:b,setBubbleInput:w};return r.jsx(ar,{scope:t,...y,children:hr(x)?x(y):s})}var or="CheckboxTrigger",lr=u.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:n,...l},i)=>{const{control:c,value:d,disabled:m,checked:h,required:x,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:b}=sr(or,t),w=e(i,p),j=u.useRef(h);return u.useEffect(()=>{const e=c?.form;if(e){const t=()=>g(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,g]),r.jsx(a.button,{type:"button",role:"checkbox","aria-checked":xr(h)?"mixed":h,"aria-required":x,"data-state":pr(h),"data-disabled":m?"":void 0,disabled:m,value:d,...l,ref:w,onKeyDown:o(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:o(n,e=>{g(e=>!!xr(e)||!e),b&&v&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});lr.displayName=or;var ir=u.forwardRef((e,t)=>{const{__scopeCheckbox:a,name:s,checked:n,defaultChecked:o,required:l,disabled:i,value:c,onCheckedChange:d,form:u,...m}=e;return r.jsx(nr,{__scopeCheckbox:a,checked:n,defaultChecked:o,disabled:i,required:l,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>r.jsxs(r.Fragment,{children:[r.jsx(lr,{...m,ref:t,__scopeCheckbox:a}),e&&r.jsx(mr,{__scopeCheckbox:a})]})})});ir.displayName=tr;var cr="CheckboxIndicator",dr=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:o,...l}=e,i=sr(cr,n);return r.jsx(s,{present:o||xr(i.checked)||!0===i.checked,children:r.jsx(a.span,{"data-state":pr(i.checked),"data-disabled":i.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});dr.displayName=cr;var ur="CheckboxBubbleInput",mr=u.forwardRef(({__scopeCheckbox:t,...s},n)=>{const{control:o,hasConsumerStoppedPropagationRef:l,checked:i,defaultChecked:c,required:m,disabled:h,name:x,value:p,form:g,bubbleInput:f,setBubbleInput:v}=sr(ur,t),b=e(n,v),w=function(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(i),j=d(o);u.useEffect(()=>{const e=f;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set,a=!l.current;if(w!==i&&r){const t=new Event("click",{bubbles:a});e.indeterminate=xr(i),r.call(e,!xr(i)&&i),e.dispatchEvent(t)}},[f,w,i,l]);const N=u.useRef(!xr(i)&&i);return r.jsx(a.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??N.current,required:m,disabled:h,name:x,value:p,form:g,...s,tabIndex:-1,ref:b,style:{...s.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function hr(e){return"function"==typeof e}function xr(e){return"indeterminate"===e}function pr(e){return xr(e)?"indeterminate":e?"checked":"unchecked"}function gr({className:e,...t}){return r.jsx(ir,{"data-slot":"checkbox",className:I("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(dr,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:r.jsx(b,{className:"size-3.5"})})})}function fr({isOpen:e,onOpenChange:t,onVideoSelect:a,currentVideoUrl:s,videoPath:n}){const[o,l]=u.useState(null),[i,c]=u.useState(!1),[d,m]=u.useState(!1),[h,x]=u.useState(0),[p,g]=u.useState(null),[f,v]=u.useState(0),[b,C]=u.useState(0),[S,E]=u.useState(0),T=u.useRef(null);u.useEffect(()=>{let e;return d&&p&&(e=setInterval(()=>{const e=Math.floor((Date.now()-p)/1e3);v(e)},1e3)),()=>{e&&clearInterval(e)}},[d,p]);const k=e=>{e&&e.type.startsWith("video/")?l(e):alert("Por favor, selecione um arquivo de vídeo válido.")},P=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},D=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return r.jsx(F,{open:e,onOpenChange:t,children:r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white max-w-2xl",children:[r.jsxs(H,{children:[r.jsx(U,{children:"Upload de Vídeo"}),r.jsx(W,{className:"text-neutral-400",children:"Selecione um arquivo de vídeo para esta aula."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors "+(i?"border-green-500 bg-green-500/10":"border-neutral-700 hover:border-neutral-600"),onDragEnter:P,onDragLeave:P,onDragOver:P,onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&k(e.dataTransfer.files[0])},children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(w,{className:"h-12 w-12 text-neutral-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-medium text-white",children:"Arraste e solte o vídeo aqui"}),r.jsx("p",{className:"text-sm text-neutral-400 mt-1",children:"ou clique para selecionar da galeria"})]}),r.jsxs(M,{onClick:()=>T.current?.click(),className:"border border-neutral-700 text-white hover:bg-neutral-800",children:[r.jsx(j,{className:"h-4 w-4 mr-2"}),"Selecionar Vídeo"]})]}),r.jsx("input",{ref:T,type:"file",accept:"video/*",onChange:e=>{const t=e.target.files[0];t&&k(t)},className:"hidden"})]}),o&&r.jsxs("div",{className:"bg-neutral-900/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(j,{className:"h-8 w-8 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white truncate max-w-xs",children:o.name}),r.jsx("p",{className:"text-xs text-neutral-400",children:D(o.size)})]})]}),!d&&r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>l(null),className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:r.jsx(N,{className:"h-4 w-4"})})]}),d&&r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-neutral-400",children:h>=90?"Processando...":"Fazendo upload..."}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm text-neutral-400",children:[h,"%"]}),r.jsxs("span",{className:"text-xs text-neutral-500",children:["(",(e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})(f),")"]})]})]}),r.jsx(At,{value:h,className:"h-2"}),S>1&&r.jsxs("div",{className:"bg-neutral-800 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(y,{className:"h-4 w-4 text-blue-400"}),r.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Upload em Partes"})]}),r.jsxs("div",{className:"text-xs text-neutral-300 space-y-1",children:[r.jsxs("p",{children:["Enviando parte ",b," de ",S]}),r.jsxs("p",{children:["Tamanho do arquivo: ",D(o.size)]}),r.jsx("p",{children:"Dividido em partes de 50MB"})]})]})]}),!d&&r.jsx("div",{className:"mt-3",children:r.jsx("video",{src:URL.createObjectURL(o),className:"w-full rounded-lg bg-black",controls:!0,style:{maxHeight:"200px"}})})]}),s&&!o&&r.jsxs("div",{className:"bg-neutral-900/50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-neutral-400 mb-2",children:"Vídeo atual:"}),r.jsx("video",{src:s,className:"w-full rounded-lg bg-black",controls:!0,style:{maxHeight:"200px"}})]})]}),r.jsxs(Z,{children:[r.jsx(M,{onClick:()=>{l(null),t(!1)},className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),r.jsx(M,{onClick:async()=>{if(o)try{m(!0),x(0),g(Date.now()),v(0);const e=52428800,r=Math.ceil(o.size/e);E(r),C(0);const s=await Kt(o,e=>{x(e);const t=Math.min(Math.floor(e/90*r),r-1);C(t+1)},n);x(100);const i=s?.Result?.url||URL.createObjectURL(o);a({file:o,url:i,name:o.name,size:o.size,type:o.type}),setTimeout(()=>{l(null),x(0),g(null),v(0),C(0),E(0),t(!1)},500)}catch(e){console.error("Erro ao fazer upload do vídeo:",e),alert("Erro ao fazer upload do vídeo. Tente novamente."),x(0),g(null),v(0),C(0),E(0)}finally{m(!1)}},className:"bg-green-600 hover:bg-green-700",disabled:!o||d,children:d?"Enviando...":"Fazer Upload"})]})]})})}function vr({isOpen:e,onOpenChange:t,lesson:a,onSaveLesson:s,categories:n}){const[o,l]=u.useState(""),[i,c]=u.useState(""),[d,m]=u.useState(""),[h,x]=u.useState(""),[p,g]=u.useState(!1),[f,v]=u.useState(!1);u.useEffect(()=>{a&&(l(a.title||""),c(a.duration||""),m(a.description||""),x(a.videoUrl||""),g(a.isPaid||!1))},[a]);return r.jsxs(r.Fragment,{children:[r.jsx(F,{open:e,onOpenChange:t,children:r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsx(U,{children:"Editar Aula"}),r.jsx(W,{className:"text-neutral-400",children:"Modifique as informações da aula."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Título da Aula"}),r.jsx(Ge,{value:o,onChange:e=>l(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Título da aula"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Duração"}),r.jsx(Ge,{value:i,onChange:e=>c(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Duração (ex: 15:30)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Descrição"}),r.jsx("textarea",{value:d,onChange:e=>m(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"Descrição da aula",rows:3,required:!0})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gr,{id:"isPaid",checked:p,onCheckedChange:g,className:"bg-neutral-900 border-neutral-700 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),r.jsx("label",{htmlFor:"isPaid",className:"text-sm font-medium text-white cursor-pointer",children:"Aula Paga (Bloqueada)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Vídeo da Aula"}),r.jsxs("div",{className:"space-y-3",children:[h&&r.jsx("div",{className:"bg-neutral-900/50 rounded-lg p-3",children:r.jsx("video",{src:h,className:"w-full rounded-lg bg-black",controls:!0,style:{maxHeight:"150px"}})}),r.jsxs(M,{onClick:()=>v(!0),className:"w-full border border-neutral-700 text-white hover:bg-neutral-800",children:[r.jsx(w,{className:"h-4 w-4 mr-2"}),h?"Trocar Vídeo":"Upload de Vídeo"]})]})]})]}),r.jsxs(Z,{children:[r.jsx(M,{onClick:()=>t(!1),className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),r.jsx(M,{onClick:()=>{o.trim()&&i.trim()&&d.trim()&&(s({...a,title:o.trim(),duration:i.trim(),description:d.trim(),videoUrl:h,isPaid:p}),t(!1))},className:"bg-green-600 hover:bg-green-700",disabled:!o.trim()||!i.trim()||!d.trim(),children:"Salvar Alterações"})]})]})}),r.jsx(fr,{isOpen:f,onOpenChange:v,onVideoSelect:e=>{x(e.url)},currentVideoUrl:h,videoPath:a&&a.id?`l${a.id}`:null})]})}function br({lesson:e,onEditLesson:t}){return r.jsx(M,{variant:"ghost",size:"sm",className:"text-neutral-400 hover:text-white hover:bg-neutral-700",onClick:r=>{r.stopPropagation(),t(e)},children:r.jsx(C,{className:"h-3 w-3"})})}function wr({lesson:e,onEditLesson:t}){return r.jsxs(M,{variant:"ghost",size:"sm",className:"border border-neutral-700 hover:bg-neutral-900",onClick:()=>t(e),children:[r.jsx(C,{className:"h-4 w-4 mr-2"}),"Editar Aula"]})}function jr({category:e,isExpanded:t,onToggle:a,onSelect:s,isSelected:n,expandedCourses:o,onCourseToggle:l,onCourseSelect:i,onLessonSelect:c,selected:d,onEditLesson:u,onDeleteCategory:m,onDeleteCourse:x,onDeleteLesson:p,onEditCategory:g,onEditCourse:f}){return r.jsxs("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/30",children:[r.jsxs("button",{type:"button",className:"w-full flex items-center justify-between gap-3 px-3 py-3 hover:bg-neutral-800/30 transition-colors rounded-xl "+(n?"bg-neutral-800/50":""),onClick:()=>{a(e.id),s({type:"category",categoryId:e.id,courseId:null,lessonId:null})},children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-green-600/20 shrink-0",children:r.jsx(h,{className:"h-4 w-4 text-green-400"})}),r.jsxs("div",{className:"min-w-0 text-left",children:[r.jsx("div",{className:"text-sm font-semibold text-white truncate",children:e.name}),r.jsxs("div",{className:"text-xs text-neutral-400",children:[e.courses.length," curso",1!==e.courses.length?"s":""]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[r.jsx(M,{variant:"ghost",size:"sm",className:"text-neutral-400 hover:text-white hover:bg-neutral-700",onClick:t=>{t.stopPropagation(),g(e)},children:r.jsx(C,{className:"h-4 w-4"})}),r.jsx(M,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",onClick:t=>{t.stopPropagation(),m(e.id)},children:r.jsx(S,{className:"h-4 w-4"})}),t?r.jsx(E,{className:"h-4 w-4 text-neutral-400"}):r.jsx(T,{className:"h-4 w-4 text-neutral-400"})]})]}),t&&r.jsx("div",{className:"px-3 pb-3 space-y-2 mt-2",children:e.courses.map(t=>r.jsx(Nr,{course:t,category:e,isExpanded:o.has(t.id),onToggle:l,onSelect:i,isSelected:"course"===d.type&&d.courseId===t.id,onLessonSelect:c,selected:d,onEditLesson:u,onDeleteCourse:x,onDeleteLesson:p,onEditCourse:f},t.id))})]})}function Nr({course:e,category:t,isExpanded:a,onToggle:s,onSelect:n,isSelected:o,onLessonSelect:l,selected:i,onEditLesson:c,onDeleteCourse:d,onDeleteLesson:u,onEditCourse:m}){return r.jsxs("div",{className:"rounded-lg border border-neutral-800 bg-neutral-950/40",children:[r.jsxs("button",{type:"button",className:"w-full flex items-center justify-between gap-3 px-3 py-2 hover:bg-neutral-800/30 transition-colors rounded-lg "+(o?"bg-neutral-800/50":""),onClick:()=>{s(e.id),n({type:"course",categoryId:t.id,courseId:e.id,lessonId:null})},children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(p,{className:"h-4 w-4 text-green-400 shrink-0"}),r.jsxs("div",{className:"min-w-0 text-left",children:[r.jsx("div",{className:"text-sm font-medium text-white truncate",children:e.title}),r.jsxs("div",{className:"text-xs text-neutral-400",children:[e.lessons?.length||0," aula",1!==(e.lessons?.length||0)?"s":""]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[r.jsx(M,{variant:"ghost",size:"sm",className:"text-neutral-400 hover:text-white hover:bg-neutral-700",onClick:r=>{r.stopPropagation(),m(t.id,e)},children:r.jsx(C,{className:"h-3 w-3"})}),r.jsx(M,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",onClick:r=>{r.stopPropagation(),d(t.id,e.id)},children:r.jsx(S,{className:"h-3 w-3"})}),a?r.jsx(E,{className:"h-4 w-4 text-neutral-400"}):r.jsx(T,{className:"h-4 w-4 text-neutral-400"})]})]}),a&&r.jsx("div",{className:"px-3 pb-3 space-y-2 mt-2",children:(e.lessons||[]).map(a=>r.jsx(yr,{lesson:a,onSelect:l,isSelected:"lesson"===i.type&&i.lessonId===a.id,category:t,course:e,onEditLesson:c,onDeleteLesson:u},a.id))})]})}function yr({lesson:e,onSelect:t,isSelected:a,category:s,course:n,onEditLesson:o,onDeleteLesson:l}){return r.jsxs("button",{type:"button",className:"w-full flex items-center justify-between gap-3 px-3 py-2 rounded-lg bg-neutral-800/20 hover:bg-neutral-800/40 transition-colors "+(a?"bg-neutral-800/50":""),onClick:()=>t({type:"lesson",categoryId:s.id,courseId:n.id,lessonId:e.id}),children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0 text-left",children:[r.jsx(p,{className:"h-3 w-3 text-neutral-400 shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-white truncate",children:e.title}),r.jsx("div",{className:"text-xs text-neutral-400",children:e.duration})]})]}),r.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[r.jsx(br,{lesson:e,onEditLesson:o}),r.jsx(M,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",onClick:t=>{t.stopPropagation(),l(s.id,n.id,e.id)},children:r.jsx(S,{className:"h-3 w-3"})})]})]},e.id)}function Cr({selectedData:e,selected:t,onEditLesson:a,onDeleteCategory:s,onDeleteCourse:n,onDeleteLesson:o,onEditCategory:l,onEditCourse:i,lessonDialogProps:c}){return r.jsxs("div",{className:"space-y-4",children:[!e.category&&r.jsx("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/30 p-4 text-sm text-neutral-400",children:"Selecione uma categoria, curso ou aula."}),e.category&&r.jsx("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/30 p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-xs text-neutral-400",children:"Categoria"}),r.jsx("div",{className:"text-xl font-semibold text-white truncate",children:e.category.name}),r.jsxs("div",{className:"mt-2 text-sm text-neutral-400",children:[e.category.courses.length," curso",1!==e.category.courses.length?"s":""]})]}),r.jsxs("div",{className:"flex gap-2 shrink-0",children:[r.jsxs(M,{variant:"ghost",className:"border border-neutral-700 hover:bg-neutral-900",onClick:()=>{l(e.category)},children:[r.jsx(C,{className:"h-4 w-4 mr-2"}),"Editar"]}),r.jsxs(M,{variant:"ghost",className:"border border-red-600/30 text-red-400 hover:bg-red-900/20 hover:text-red-300",onClick:()=>{s(e.category.id)},children:[r.jsx(S,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})}),e.course&&r.jsxs("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/30 p-4",children:[r.jsx("div",{className:"text-xs text-neutral-400",children:"Curso"}),r.jsx("div",{className:"text-xl font-semibold text-white",children:e.course.title}),r.jsxs("div",{className:"mt-2 text-sm text-neutral-400",children:[e.course.lessons.length," aula",1!==e.course.lessons.length?"s":""]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2",children:[r.jsxs(M,{variant:"ghost",className:"border border-neutral-700 hover:bg-neutral-900",onClick:()=>{i(t.categoryId,e.course)},children:[r.jsx(C,{className:"h-4 w-4 mr-2"}),"Editar Curso"]}),r.jsx(er,{...c}),r.jsxs(M,{variant:"ghost",className:"border border-red-600/30 text-red-400 hover:bg-red-900/20 hover:text-red-300",onClick:()=>{n(t.categoryId,e.course.id)},children:[r.jsx(S,{className:"h-4 w-4 mr-2"}),"Excluir Curso"]})]})]}),e.lesson&&r.jsxs("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/30 p-4",children:[r.jsx("div",{className:"text-xs text-neutral-400",children:"Aula"}),r.jsx("div",{className:"text-xl font-semibold text-white",children:e.lesson.title}),r.jsxs("div",{className:"mt-2 text-sm text-neutral-400",children:["Duração: ",e.lesson.duration]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2",children:[r.jsx(wr,{lesson:e.lesson,onEditLesson:a}),r.jsxs(M,{variant:"ghost",className:"border border-red-600/30 text-red-400 hover:bg-red-900/20 hover:text-red-300",onClick:()=>{o(t.categoryId,t.courseId,e.lesson.id)},children:[r.jsx(S,{className:"h-4 w-4 mr-2"}),"Excluir Aula"]})]})]})]})}function Sr({query:e,onQueryChange:t,categoryDialogProps:a,courseDialogProps:s,lessonDialogProps:n}){return r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[r.jsx("div",{className:"flex-1",children:r.jsx(Ge,{value:e,onChange:e=>t(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Buscar categoria, curso ou aula..."})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsx(Qt,{...a}),r.jsx(Zt,{...s}),r.jsx(er,{...n})]})]})}function Er({isOpen:e,onOpenChange:t,title:a,description:s,confirmText:n="Excluir",cancelText:o="Cancelar",onConfirm:l,variant:i="destructive"}){const[c,d]=u.useState(!1);return r.jsx(F,{open:e,onOpenChange:t,children:r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white max-w-md",children:[r.jsx(H,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-full "+("destructive"===i?"bg-red-600/20 text-red-400":"bg-blue-600/20 text-blue-400"),children:r.jsx(k,{className:"h-5 w-5"})}),r.jsx(U,{className:"text-lg font-semibold",children:a})]})}),r.jsx(W,{className:"text-neutral-300",children:s}),r.jsxs(Z,{className:"gap-2",children:[r.jsx(M,{onClick:()=>t(!1),disabled:c,className:"border border-neutral-700 text-white hover:bg-neutral-800",children:o}),r.jsx(M,{variant:i,onClick:async()=>{d(!0);try{await l(),t(!1)}finally{d(!1)}},disabled:c,className:"destructive"===i?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white",children:c?"Excluindo...":n})]})]})})}function Tr({isOpen:e,onOpenChange:t,categoryName:a,onCategoryNameChange:s,categoryDescription:n,onCategoryDescriptionChange:o,onUpdateCategory:l,isLoading:i=!1}){return r.jsx(F,{open:e,onOpenChange:t,children:r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-full bg-blue-600/20 text-blue-400",children:r.jsx(C,{className:"h-5 w-5"})}),r.jsx(U,{children:"Editar Categoria"})]}),r.jsx(W,{className:"text-neutral-400",children:"Altere o nome da categoria. Esta ação será aplicada imediatamente."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx(Ge,{value:a,onChange:e=>s(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Nome da categoria",onKeyDown:e=>{"Enter"===e.key&&a.trim()&&l()},disabled:i}),r.jsx("textarea",{value:n,onChange:e=>o(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"Descrição da categoria",rows:3,disabled:i,required:!0})]}),r.jsxs(Z,{children:[r.jsx(M,{onClick:()=>t(!1),disabled:i,className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),r.jsx(M,{onClick:l,disabled:!a.trim()||!n.trim()||i,className:"bg-blue-600 hover:bg-blue-700",children:i?"Salvando...":"Salvar Alterações"})]})]})})}function kr({isOpen:e,onOpenChange:t,courseTitle:a,onCourseTitleChange:s,courseDescription:n,onCourseDescriptionChange:o,onUpdateCourse:l,categoryName:i,isLoading:c=!1}){return r.jsx(F,{open:e,onOpenChange:t,children:r.jsxs(B,{className:"bg-neutral-950 border-neutral-800 text-white",children:[r.jsxs(H,{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-full bg-blue-600/20 text-blue-400",children:r.jsx(C,{className:"h-5 w-5"})}),r.jsx(U,{children:"Editar Curso"})]}),r.jsx(W,{className:"text-neutral-400",children:i?`Alterando o título do curso na categoria: ${i}`:"Alterando o título do curso."})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsx(Ge,{value:a,onChange:e=>s(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Título do curso",onKeyDown:e=>{"Enter"===e.key&&a.trim()&&l()},disabled:c}),r.jsx("textarea",{value:n,onChange:e=>o(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"Descrição do curso",rows:3,disabled:c,required:!0})]}),r.jsxs(Z,{children:[r.jsx(M,{onClick:()=>t(!1),disabled:c,className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),r.jsx(M,{onClick:l,disabled:!a.trim()||!n.trim()||c,className:"bg-blue-600 hover:bg-blue-700",children:c?"Salvando...":"Salvar Alterações"})]})]})})}function Pr(){const[e,t]=u.useState(new Set),[a,s]=u.useState(new Set),[n,o]=u.useState({type:"category",categoryId:null,courseId:null,lessonId:null}),[l,i]=u.useState(""),[c,d]=u.useState(!1),[m,h]=u.useState(""),[x,p]=u.useState(""),[g,f]=u.useState(!1),[v,b]=u.useState(""),[w,j]=u.useState(""),[N,y]=u.useState(!1),[C,S]=u.useState(""),[E,T]=u.useState(""),[k,P]=u.useState(""),[D,O]=u.useState(null),[R,L]=u.useState(!1),[I,_]=u.useState([]),[A,M]=u.useState(!0),[z,q]=u.useState(null),[F,$]=u.useState({}),[B,H]=u.useState({}),[U,W]=u.useState({}),[V,J]=u.useState({}),[Q,Z]=u.useState(null),[ee,te]=u.useState(!1),[re,ae]=u.useState(""),[se,ne]=u.useState(""),[oe,le]=u.useState(null),[ie,ce]=u.useState(!1),[de,ue]=u.useState(""),[me,he]=u.useState(""),{showConfirmDialog:xe,ConfirmDialogComponent:pe}=function(){const[e,t]=u.useState({isOpen:!1,title:"",description:"",onConfirm:null,confirmText:"Excluir",cancelText:"Cancelar",variant:"destructive"}),a=()=>{t(e=>({...e,isOpen:!1}))};return{showConfirmDialog:e=>{t({isOpen:!0,title:e.title||"Confirmar exclusão",description:e.description||"Tem certeza que deseja continuar?",onConfirm:e.onConfirm||(()=>{}),confirmText:e.confirmText||"Excluir",cancelText:e.cancelText||"Cancelar",variant:e.variant||"destructive"})},hideDialog:a,ConfirmDialogComponent:()=>r.jsx(Er,{isOpen:e.isOpen,onOpenChange:a,title:e.title,description:e.description,confirmText:e.confirmText,cancelText:e.cancelText,onConfirm:e.onConfirm,variant:e.variant})}}();u.useEffect(()=>{(async()=>{try{M(!0);const e=await qt();_(e?.Result?.categories||[]),q(null)}catch(e){q(e.message),console.error("Erro ao buscar categorias:",e),_([])}finally{M(!1)}})()},[]);const ge=async r=>{const a=new Set(e);if(!a.has(r)){if(a.add(r),t(a),!B[r])try{$(e=>({...e,[r]:!0}));const e=await Gt(r),t=e?.Result?.courses||[];H(e=>({...e,[r]:t}))}catch(s){console.error("Erro ao buscar cursos:",s)}finally{$(e=>({...e,[r]:!1}))}}else a.delete(r),t(a)},fe=async e=>{const t=new Set(a);if(!t.has(e)){if(t.add(e),s(t),!V[e])try{W(t=>({...t,[e]:!0}));const t=await Yt(e),r=t?.Result?.lessons||[];J(t=>({...t,[e]:r}))}catch(r){console.error("Erro ao buscar aulas:",r)}finally{W(t=>({...t,[e]:!1}))}}else t.delete(e),s(t)},ve=u.useMemo(()=>{const e=l.trim().toLowerCase();return e?I.map(t=>{const r=(B[t.id]||[]).map(e=>({...e,lessons:V[e.id]||[]})),a=t.name.toLowerCase().includes(e),s=r.map(t=>{const r=t.title.toLowerCase().includes(e),a=t.lessons.filter(t=>t.title.toLowerCase().includes(e));return r?t:a.length>0?{...t,lessons:a}:null}).filter(Boolean);return a?{...t,courses:r}:s.length>0?{...t,courses:s}:null}).filter(Boolean):I.map(e=>({...e,courses:(B[e.id]||[]).map(e=>({...e,lessons:V[e.id]||[]}))}))},[l,I,B,V]),be=u.useMemo(()=>{if("category"===n.type){return{category:I.find(e=>e.id===n.categoryId)||null,course:null,lesson:null}}if("course"===n.type){return{category:I.find(e=>e.id===n.categoryId)||null,course:(B[n.categoryId]||[]).map(e=>({...e,lessons:V[e.id]||[]})).find(e=>e.id===n.courseId)||null,lesson:null}}if("lesson"===n.type){const e=I.find(e=>e.id===n.categoryId)||null,t=(B[n.categoryId]||[]).map(e=>({...e,lessons:V[e.id]||[]})).find(e=>e.id===n.courseId)||null,r=t?.lessons?.find(e=>e.id===n.lessonId)||null;return{category:e,course:t,lesson:r}}return{category:null,course:null,lesson:null}},[n,I,B,V]),we=e=>{O(e),L(!0)},je=e=>{Z(e),ae(e.name||""),ne(e.description||""),te(!0)},Ne=(e,t)=>{I.find(t=>t.id===e),le({...t,categoryId:e}),ue(t.title||""),he(t.description||""),ce(!0)},ye=e=>{const t=I.find(t=>t.id===e);xe({title:"Excluir Categoria",description:`Tem certeza que deseja excluir a categoria "${t?.name}" e todo o seu conteúdo? Esta ação não pode ser desfeita.`,confirmText:"Excluir Categoria",onConfirm:async()=>{try{await Bt(e);const t=await qt();_(t?.Result?.categories||[]),"category"===n.type&&n.categoryId===e&&o({type:"category",categoryId:null,courseId:null,lessonId:null})}catch(t){console.error("Erro ao excluir categoria:",t)}}})},Ce=(e,t)=>{I.find(t=>t.id===e);const r=B[e]?.find(e=>e.id===t);xe({title:"Excluir Curso",description:`Tem certeza que deseja excluir o curso "${r?.title}" e todas as suas aulas? Esta ação não pode ser desfeita.`,confirmText:"Excluir Curso",onConfirm:async()=>{try{await Wt(t);const r=await Gt(e),a=r?.Result?.courses||[];H(t=>({...t,[e]:a})),"course"===n.type&&n.courseId===t&&o({type:"category",categoryId:null,courseId:null,lessonId:null})}catch(r){console.error("Erro ao excluir curso:",r)}}})},Se=(e,t,r)=>{I.find(t=>t.id===e),B[e]?.find(e=>e.id===t);const a=V[t]?.find(e=>e.id===r);xe({title:"Excluir Aula",description:`Tem certeza que deseja excluir a aula "${a?.title}"? Esta ação não pode ser desfeita.`,confirmText:"Excluir Aula",onConfirm:async()=>{try{await Xt(r);const a=await Yt(t),s=a?.Result?.lessons||[];J(e=>({...e,[t]:s})),"lesson"===n.type&&n.lessonId===r&&o({type:"course",categoryId:e,courseId:t,lessonId:null})}catch(a){console.error("Erro ao excluir aula:",a)}}})},Ee={isOpen:c,onOpenChange:d,categoryName:m,onCategoryNameChange:h,categoryDescription:x,onCategoryDescriptionChange:p,onCreateCategory:async()=>{if(m.trim()&&x.trim())try{await Ft(m.trim(),x.trim());const e=await qt();_(e?.Result?.categories||[]),h(""),p(""),d(!1)}catch(e){console.error("Erro ao criar categoria:",e)}}},Te={isOpen:g,onOpenChange:f,courseTitle:v,onCourseTitleChange:b,courseDescription:w,onCourseDescriptionChange:j,onCreateCourse:async()=>{if(v.trim()&&w.trim()&&n.categoryId)try{await Ht(n.categoryId,v.trim(),w.trim());const r=await Gt(n.categoryId),a=r?.Result?.courses||[];H(e=>({...e,[n.categoryId]:a})),b(""),j(""),f(!1),t(new Set([...e,n.categoryId]))}catch(r){console.error("Erro ao criar curso:",r)}},selectedCategoryId:n.categoryId,categories:I},ke={isOpen:N,onOpenChange:y,lessonTitle:C,onLessonTitleChange:S,lessonDuration:E,onLessonDurationChange:T,lessonDescription:k,onLessonDescriptionChange:P,onCreateLesson:async()=>{if(C.trim()&&E.trim()&&k.trim()&&n.categoryId&&n.courseId)try{await Vt(n.courseId,C.trim(),E.trim(),k.trim());const r=await Yt(n.courseId),o=r?.Result?.lessons||[];J(e=>({...e,[n.courseId]:o})),S(""),T(""),P(""),y(!1),t(new Set([...e,n.categoryId])),s(new Set([...a,n.courseId]))}catch(r){console.error("Erro ao criar aula:",r)}},selectedCategoryId:n.categoryId,selectedCourseId:n.courseId,categories:I};return r.jsxs("div",{className:"w-full space-y-4",children:[r.jsx(Sr,{query:l,onQueryChange:i,categoryDialogProps:Ee,courseDialogProps:Te,lessonDialogProps:ke}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-4",children:[r.jsxs(X,{className:"xl:col-span-2 bg-neutral-950 border-neutral-800 text-white shadow-2xl",children:[r.jsxs(Y,{className:"pb-4",children:[r.jsx(K,{className:"text-lg font-semibold",children:"Estrutura"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Categoria → Curso → Aula"})]}),r.jsxs(G,{className:"space-y-3",children:[A&&r.jsx("div",{className:"text-sm text-neutral-400",children:"Carregando categorias..."}),z&&r.jsxs("div",{className:"text-sm text-red-400",children:["Erro: ",z]}),!A&&!z&&0===ve.length&&r.jsx("div",{className:"text-sm text-neutral-400",children:"Nenhuma categoria encontrada."}),!A&&!z&&ve.map(t=>r.jsx(jr,{category:t,isExpanded:e.has(t.id),onToggle:ge,onSelect:o,isSelected:"category"===n.type&&n.categoryId===t.id,expandedCourses:a,onCourseToggle:fe,onCourseSelect:o,onLessonSelect:o,selected:n,onEditLesson:we,onDeleteCategory:ye,onDeleteCourse:Ce,onDeleteLesson:Se,onEditCategory:je,onEditCourse:Ne,loadingCourses:F,loadingLessons:U},t.id))]})]}),r.jsxs(X,{className:"xl:col-span-3 bg-neutral-950 border-neutral-800 text-white shadow-2xl",children:[r.jsxs(Y,{className:"pb-4",children:[r.jsx(K,{className:"text-lg font-semibold",children:"Detalhes"}),r.jsx("p",{className:"text-sm text-neutral-400",children:"Selecione um item na estrutura para editar"})]}),r.jsx(G,{children:r.jsx(Cr,{selectedData:be,selected:n,onEditLesson:we,onDeleteCategory:ye,onDeleteCourse:Ce,onDeleteLesson:Se,onEditCategory:je,onEditCourse:Ne,lessonDialogProps:ke})})]})]}),r.jsx(vr,{isOpen:R,onOpenChange:e=>{L(e),e||O(null)},lesson:D,onSaveLesson:async e=>{try{await Jt(e.id,e.title,e.duration,e.description,e.isPaid);const t=await Yt(n.courseId),r=t?.Result?.lessons||[];J(e=>({...e,[n.courseId]:r})),O(null)}catch(t){console.error("Erro ao atualizar aula:",t)}},categories:I}),r.jsx(Tr,{isOpen:ee,onOpenChange:te,categoryName:re,onCategoryNameChange:ae,categoryDescription:se,onCategoryDescriptionChange:ne,onUpdateCategory:async()=>{if(Q&&re.trim()&&se.trim())try{await $t(Q.id,re.trim(),se.trim());const e=await qt();_(e?.Result?.categories||[]),te(!1),Z(null),ae(""),ne("")}catch(e){console.error("Erro ao atualizar categoria:",e)}}}),r.jsx(kr,{isOpen:ie,onOpenChange:ce,courseTitle:de,onCourseTitleChange:ue,courseDescription:me,onCourseDescriptionChange:he,onUpdateCourse:async()=>{if(oe&&de.trim()&&me.trim())try{await Ut(oe.id,de.trim(),me.trim());const e=await Gt(oe.categoryId),t=e?.Result?.courses||[];H(e=>({...e,[oe.categoryId]:t})),ce(!1),le(null),ue(""),he("")}catch(e){console.error("Erro ao atualizar curso:",e)}},categoryName:oe?I.find(e=>e.id===oe.categoryId)?.name:""}),r.jsx(pe,{})]})}function Dr({open:e,onOpenChange:t}){return r.jsx(F,{open:e,onOpenChange:t,children:r.jsx(B,{className:"bg-neutral-950 border-neutral-800 text-white !w-[85vw] !h-[85vh] !max-w-none !max-h-none !m-0 !rounded-lg !overflow-hidden !p-0 !top-[50%] !left-[50%] !translate-x-[-50%] !translate-y-[-50%]",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs(H,{className:"px-4 sm:px-6 py-4 border-b border-neutral-800 shrink-0",children:[r.jsx(U,{className:"text-xl sm:text-2xl font-bold text-white",children:"Dashboard Administrativo"}),r.jsx(W,{className:"text-neutral-400",children:"Gerencie categorias, cursos e aulas da plataforma"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4",children:r.jsx(Pr,{})})]})})})}function Or({isOpen:e,setIsOpen:t}){const a=q(),[s,n]=u.useState("home"),[o,l]=u.useState(!1),[i,c]=u.useState(""),[d,m]=u.useState(!1),[x,p]=u.useState(!1);u.useEffect(()=>{const e=()=>{const e=te();if(l(e),e){const e=re(),t=ae();c(e||""),m(t)}else c(""),m(!1)};e();const t=setInterval(e,3e4),r=()=>{e()};return window.addEventListener("login-success",r),()=>{clearInterval(t),window.removeEventListener("login-success",r)}},[]);const g=!a||e;return r.jsxs(r.Fragment,{children:[a&&e&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>t(!1)}),r.jsx("aside",{className:`\n          fixed lg:relative z-50\n          flex h-dvh w-80 flex-col bg-neutral-950 text-white\n          transition-transform duration-300 ease-in-out\n          ${g?"translate-x-0":"-translate-x-full"}\n        `,children:r.jsxs("div",{className:"relative m-4 flex h-[calc(100%-2rem)] flex-col overflow-hidden rounded-3xl border border-neutral-800 bg-neutral-950 shadow-2xl shadow-black/70",children:[!a&&r.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-px bg-linear-to-b from-green-500/70 to-emerald-400/40"}),r.jsxs("div",{className:"flex items-center justify-between px-5 pt-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:ee,alt:"Ring0X Logo",className:"h-11 w-11 rounded-xl object-cover"}),r.jsx("span",{className:"text-xl font-semibold tracking-wide text-green-400",children:"RING0X"})]}),a&&r.jsx(M,{variant:"ghost",size:"icon",onClick:()=>t(!1),className:"text-neutral-400 hover:bg-neutral-800 hover:text-white",children:r.jsx(N,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-5 pt-4",children:r.jsx(Xe,{className:"bg-white/10"})}),r.jsx($e,{className:"flex-1 min-h-0 px-3 py-3 flex flex-col",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsxs(M,{variant:"ghost",className:"group relative h-14 w-full justify-start gap-3 rounded-2xl px-4 text-base text-white hover:bg-neutral-800 "+("home"===s?"bg-neutral-800":""),onClick:()=>{n("home");const e=document.querySelector("main");e&&e.scrollTo({top:0,behavior:"smooth"}),a&&t(!1)},children:[r.jsx("span",{className:"absolute left-0 top-1/2 h-10 w-1 -translate-y-1/2 rounded-r-full "+("home"===s?"bg-green-500":"bg-transparent")}),r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl "+("home"===s?"bg-green-500/20 text-green-400":"bg-neutral-800 text-neutral-400 group-hover:text-white"),children:r.jsx(P,{className:"h-5 w-5"})}),r.jsx("span",{className:"font-medium",children:"Home"})]}),r.jsx("div",{className:"px-4",children:r.jsx(Xe,{className:"bg-white/10"})}),o&&r.jsx(Mt,{children:r.jsxs(M,{variant:"ghost",className:"group relative h-14 w-full justify-start gap-3 rounded-2xl px-4 text-base text-white hover:bg-neutral-800 "+("meus-cursos"===s?"bg-neutral-800":""),onClick:()=>n("meus-cursos"),children:[r.jsx("span",{className:"absolute left-0 top-1/2 h-10 w-1 -translate-y-1/2 rounded-r-full "+("meus-cursos"===s?"bg-green-500":"bg-transparent")}),r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl "+("meus-cursos"===s?"bg-green-500/20 text-green-400":"bg-neutral-800 text-neutral-400 group-hover:text-white"),children:r.jsx(D,{className:"h-5 w-5"})}),r.jsx("span",{className:"font-medium",children:"Meus Cursos"})]})}),o&&r.jsx("div",{className:"px-4",children:r.jsx(Xe,{className:"bg-white/10"})}),d&&r.jsxs(r.Fragment,{children:[r.jsxs(M,{variant:"ghost",className:"group relative h-14 w-full justify-start gap-3 rounded-2xl px-4 text-base text-white hover:bg-neutral-800 "+("dashboard"===s?"bg-neutral-800":""),onClick:()=>{n("dashboard"),p(!0)},children:[r.jsx("span",{className:"absolute left-0 top-1/2 h-10 w-1 -translate-y-1/2 rounded-r-full "+("dashboard"===s?"bg-green-500":"bg-transparent")}),r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl "+("dashboard"===s?"bg-green-500/20 text-green-400":"bg-neutral-800 text-neutral-400 group-hover:text-white"),children:r.jsx(O,{className:"h-5 w-5"})}),r.jsx("span",{className:"font-medium",children:"Dashboard"})]}),r.jsx(Dr,{open:x,onOpenChange:p})]}),d&&r.jsx("div",{className:"px-4",children:r.jsx(Xe,{className:"bg-white/10"})}),r.jsxs(M,{variant:"ghost",className:"group relative h-14 w-full justify-start gap-3 rounded-2xl px-4 text-base font-medium text-white hover:bg-neutral-800 "+("cursos"===s?"bg-neutral-800":""),onClick:()=>{n("cursos"),setTimeout(()=>{let e=document.querySelector("[data-cursos-card]");e||(e=Array.from(document.querySelectorAll("h1, h2, h3")).find(e=>e.textContent.includes("Cursos"))?.closest('.card, [class*="Card"]')),e||(e=Array.from(document.querySelectorAll("*")).find(e=>e.textContent.includes("Cursos")&&e.classList.contains("bg-neutral-950"))),e&&e.scrollIntoView({behavior:"smooth",block:"start"}),a&&t(!1)},a?300:0)},children:[r.jsx("span",{className:"absolute left-0 top-1/2 h-10 w-1 -translate-y-1/2 rounded-r-full "+("cursos"===s?"bg-green-500":"bg-transparent")}),r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl "+("cursos"===s?"bg-green-500/20 text-green-400":"bg-neutral-800 text-neutral-400 group-hover:text-white"),children:r.jsx(h,{className:"h-5 w-5"})}),r.jsx("span",{className:"font-medium",children:"Cursos"})]})]})}),r.jsx("div",{className:"px-5 pb-4",children:r.jsx(Xe,{className:"bg-white/10"})}),r.jsx("div",{className:"flex flex-col gap-3 px-5 pb-5 shrink-0",children:o?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-800/50 rounded-xl",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-green-600/20",children:r.jsx(R,{className:"h-4 w-4 text-green-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-white truncate",children:i}),r.jsx("div",{className:"text-xs text-neutral-400",children:"Logado"})]})]}),r.jsxs(M,{onClick:()=>{se(),l(!1),c(""),m(!1),n("home")},className:"w-full bg-red-600/20 border border-red-600/30 text-red-400 hover:bg-red-600/30 hover:text-red-300",children:[r.jsx(L,{className:"h-4 w-4 mr-2"}),"Sair"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ze,{}),r.jsx(et,{}),r.jsx("div",{className:"hidden",children:r.jsx(gt,{})})]})})]})})]})}mr.displayName=ur;export{Or as default};
