import{u as e,a as t,j as s,P as a,b as r,d as n,e as l,f as o,g as i,h as c,i as d}from"./radix-_sTNCreU.js";import{a as u,L as m,B as x,C as h,d as p,e as g,f,P as b,h as v,U as j,F as w,H as N,X as y,I as C,i as S,j as E,S as k,k as T,T as P,l as D,m as O,G as R,n as L,A as I,o as A,p as _,q as z,s as M,u as F,v as q,w as $,x as B,y as U}from"./utils-Camaupd_.js";import{c as H,a as W,b as V,B as X,S as G,u as J}from"./index-C6xABfrj.js";import{D as Y,a as K,b as Q,c as Z,d as ee,e as te,A as se,s as ae,C as re,f as ne,g as le,h as oe,i as ie,j as ce,l as de,k as ue,m as me,n as xe,r as he}from"./logo-CaFhZAUJ.js";var pe="ScrollArea",[ge]=n(pe),[fe,be]=ge(pe),ve=u.forwardRef((r,n)=>{const{__scopeScrollArea:l,type:o="hover",dir:i,scrollHideDelay:c=600,...d}=r,[m,x]=u.useState(null),[h,p]=u.useState(null),[g,f]=u.useState(null),[b,v]=u.useState(null),[j,w]=u.useState(null),[N,y]=u.useState(0),[C,S]=u.useState(0),[E,k]=u.useState(!1),[T,P]=u.useState(!1),D=e(n,e=>x(e)),O=t(i);return s.jsx(fe,{scope:l,type:o,dir:O,scrollHideDelay:c,scrollArea:m,viewport:h,onViewportChange:p,content:g,onContentChange:f,scrollbarX:b,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:k,scrollbarY:j,onScrollbarYChange:w,scrollbarYEnabled:T,onScrollbarYEnabledChange:P,onCornerWidthChange:y,onCornerHeightChange:S,children:s.jsx(a.div,{dir:O,...d,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":C+"px",...r.style}})})});ve.displayName=pe;var je="ScrollAreaViewport",we=u.forwardRef((t,r)=>{const{__scopeScrollArea:n,children:l,nonce:o,...i}=t,c=be(je,n),d=u.useRef(null),m=e(r,d,c.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(a.div,{"data-radix-scroll-area-viewport":"",...i,ref:m,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});we.displayName=je;var Ne="ScrollAreaScrollbar",ye=u.forwardRef((e,t)=>{const{forceMount:a,...r}=e,n=be(Ne,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:o}=n,i="horizontal"===e.orientation;return u.useEffect(()=>(i?l(!0):o(!0),()=>{i?l(!1):o(!1)}),[i,l,o]),"hover"===n.type?s.jsx(Ce,{...r,ref:t,forceMount:a}):"scroll"===n.type?s.jsx(Se,{...r,ref:t,forceMount:a}):"auto"===n.type?s.jsx(Ee,{...r,ref:t,forceMount:a}):"always"===n.type?s.jsx(ke,{...r,ref:t}):null});ye.displayName=Ne;var Ce=u.forwardRef((e,t)=>{const{forceMount:a,...n}=e,l=be(Ne,e.__scopeScrollArea),[o,i]=u.useState(!1);return u.useEffect(()=>{const e=l.scrollArea;let t=0;if(e){const s=()=>{window.clearTimeout(t),i(!0)},a=()=>{t=window.setTimeout(()=>i(!1),l.scrollHideDelay)};return e.addEventListener("pointerenter",s),e.addEventListener("pointerleave",a),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",s),e.removeEventListener("pointerleave",a)}}},[l.scrollArea,l.scrollHideDelay]),s.jsx(r,{present:a||o,children:s.jsx(Ee,{"data-state":o?"visible":"hidden",...n,ref:t})})}),Se=u.forwardRef((e,t)=>{const{forceMount:a,...n}=e,o=be(Ne,e.__scopeScrollArea),i="horizontal"===e.orientation,c=Ve(()=>m("SCROLL_END"),100),[d,m]=(x="hidden",h={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},u.useReducer((e,t)=>h[e][t]??e,x));var x,h;return u.useEffect(()=>{if("idle"===d){const e=window.setTimeout(()=>m("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(e)}},[d,o.scrollHideDelay,m]),u.useEffect(()=>{const e=o.viewport,t=i?"scrollLeft":"scrollTop";if(e){let s=e[t];const a=()=>{const a=e[t];s!==a&&(m("SCROLL"),c()),s=a};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}},[o.viewport,i,m,c]),s.jsx(r,{present:a||"hidden"!==d,children:s.jsx(ke,{"data-state":"hidden"===d?"hidden":"visible",...n,ref:t,onPointerEnter:l(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:l(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),Ee=u.forwardRef((e,t)=>{const a=be(Ne,e.__scopeScrollArea),{forceMount:n,...l}=e,[o,i]=u.useState(!1),c="horizontal"===e.orientation,d=Ve(()=>{if(a.viewport){const e=a.viewport.offsetWidth<a.viewport.scrollWidth,t=a.viewport.offsetHeight<a.viewport.scrollHeight;i(c?e:t)}},10);return Xe(a.viewport,d),Xe(a.content,d),s.jsx(r,{present:n||o,children:s.jsx(ke,{"data-state":o?"visible":"hidden",...l,ref:t})})}),ke=u.forwardRef((e,t)=>{const{orientation:a="vertical",...r}=e,n=be(Ne,e.__scopeScrollArea),l=u.useRef(null),o=u.useRef(0),[i,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=qe(i.viewport,i.content),m={...r,sizes:i,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function x(e,t){return function(e,t,s,a="ltr"){const r=$e(s),n=r/2,l=t||n,o=r-l,i=s.scrollbar.paddingStart+l,c=s.scrollbar.size-s.scrollbar.paddingEnd-o,d=s.content-s.viewport,u="ltr"===a?[0,d]:[-1*d,0];return Ue([i,c],u)(e)}(e,o.current,i,t)}return"horizontal"===a?s.jsx(Te,{...m,ref:t,onThumbPositionChange:()=>{if(n.viewport&&l.current){const e=Be(n.viewport.scrollLeft,i,n.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollLeft=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollLeft=x(e,n.dir))}}):"vertical"===a?s.jsx(Pe,{...m,ref:t,onThumbPositionChange:()=>{if(n.viewport&&l.current){const e=Be(n.viewport.scrollTop,i);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollTop=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollTop=x(e))}}):null}),Te=u.forwardRef((t,a)=>{const{sizes:r,onSizesChange:n,...l}=t,o=be(Ne,t.__scopeScrollArea),[i,c]=u.useState(),d=u.useRef(null),m=e(a,d,o.onScrollbarXChange);return u.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(Re,{"data-orientation":"horizontal",...l,ref:m,sizes:r,style:{bottom:0,left:"rtl"===o.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===o.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$e(r)+"px",...t.style},onThumbPointerDown:e=>t.onThumbPointerDown(e.x),onDragScroll:e=>t.onDragScroll(e.x),onWheelScroll:(e,s)=>{if(o.viewport){const a=o.viewport.scrollLeft+e.deltaX;t.onWheelScroll(a),He(a,s)&&e.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Fe(i.paddingLeft),paddingEnd:Fe(i.paddingRight)}})}})}),Pe=u.forwardRef((t,a)=>{const{sizes:r,onSizesChange:n,...l}=t,o=be(Ne,t.__scopeScrollArea),[i,c]=u.useState(),d=u.useRef(null),m=e(a,d,o.onScrollbarYChange);return u.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(Re,{"data-orientation":"vertical",...l,ref:m,sizes:r,style:{top:0,right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$e(r)+"px",...t.style},onThumbPointerDown:e=>t.onThumbPointerDown(e.y),onDragScroll:e=>t.onDragScroll(e.y),onWheelScroll:(e,s)=>{if(o.viewport){const a=o.viewport.scrollTop+e.deltaY;t.onWheelScroll(a),He(a,s)&&e.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Fe(i.paddingTop),paddingEnd:Fe(i.paddingBottom)}})}})}),[De,Oe]=ge(Ne),Re=u.forwardRef((t,r)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:c,onThumbChange:d,onThumbPointerUp:m,onThumbPointerDown:x,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:f,...b}=t,v=be(Ne,n),[j,w]=u.useState(null),N=e(r,e=>w(e)),y=u.useRef(null),C=u.useRef(""),S=v.viewport,E=i.content-i.viewport,k=o(g),T=o(h),P=Ve(f,10);function D(e){if(y.current){const t=e.clientX-y.current.left,s=e.clientY-y.current.top;p({x:t,y:s})}}return u.useEffect(()=>{const e=e=>{const t=e.target,s=j?.contains(t);s&&k(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,j,E,k]),u.useEffect(T,[i,T]),Xe(j,P),Xe(v.content,P),s.jsx(De,{scope:n,scrollbar:j,hasThumb:c,onThumbChange:o(d),onThumbPointerUp:o(m),onThumbPositionChange:T,onThumbPointerDown:o(x),children:s.jsx(a.div,{...b,ref:N,style:{position:"absolute",...b.style},onPointerDown:l(t.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=j.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),D(e)}}),onPointerMove:l(t.onPointerMove,D),onPointerUp:l(t.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=C.current,v.viewport&&(v.viewport.style.scrollBehavior=""),y.current=null})})})}),Le="ScrollAreaThumb",Ie=u.forwardRef((e,t)=>{const{forceMount:a,...n}=e,l=Oe(Le,e.__scopeScrollArea);return s.jsx(r,{present:a||l.hasThumb,children:s.jsx(Ae,{ref:t,...n})})}),Ae=u.forwardRef((t,r)=>{const{__scopeScrollArea:n,style:o,...i}=t,c=be(Le,n),d=Oe(Le,n),{onThumbPositionChange:m}=d,x=e(r,e=>d.onThumbChange(e)),h=u.useRef(void 0),p=Ve(()=>{h.current&&(h.current(),h.current=void 0)},100);return u.useEffect(()=>{const e=c.viewport;if(e){const t=()=>{if(p(),!h.current){const t=We(e,m);h.current=t,m()}};return m(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,p,m]),s.jsx(a.div,{"data-state":d.hasThumb?"visible":"hidden",...i,ref:x,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:l(t.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),s=e.clientX-t.left,a=e.clientY-t.top;d.onThumbPointerDown({x:s,y:a})}),onPointerUp:l(t.onPointerUp,d.onThumbPointerUp)})});Ie.displayName=Le;var _e="ScrollAreaCorner",ze=u.forwardRef((e,t)=>{const a=be(_e,e.__scopeScrollArea),r=Boolean(a.scrollbarX&&a.scrollbarY);return"scroll"!==a.type&&r?s.jsx(Me,{...e,ref:t}):null});ze.displayName=_e;var Me=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,l=be(_e,r),[o,i]=u.useState(0),[c,d]=u.useState(0),m=Boolean(o&&c);return Xe(l.scrollbarX,()=>{const e=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(e),d(e)}),Xe(l.scrollbarY,()=>{const e=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(e),i(e)}),m?s.jsx(a.div,{...n,ref:t,style:{width:o,height:c,position:"absolute",right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:0,...e.style}}):null});function Fe(e){return e?parseInt(e,10):0}function qe(e,t){const s=e/t;return isNaN(s)?0:s}function $e(e){const t=qe(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*t;return Math.max(a,18)}function Be(e,t,s="ltr"){const a=$e(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-r,l=t.content-t.viewport,o=n-a,i=function(e,[t,s]){return Math.min(s,Math.max(t,e))}(e,"ltr"===s?[0,l]:[-1*l,0]);return Ue([0,l],[0,o])(i)}function Ue(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(s-e[0])}}function He(e,t){return e>0&&e<t}var We=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function r(){const n={left:e.scrollLeft,top:e.scrollTop},l=s.left!==n.left,o=s.top!==n.top;(l||o)&&t(),s=n,a=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(a)};function Ve(e,t){const s=o(e),a=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(a.current),[]),u.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,t)},[s,t])}function Xe(e,t){const s=o(t);i(()=>{let t=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(s)});return a.observe(e),()=>{window.cancelAnimationFrame(t),a.unobserve(e)}}},[e,s])}var Ge=ve,Je=we,Ye=ze;function Ke({className:e,children:t,...a}){return s.jsxs(Ge,{"data-slot":"scroll-area",className:H("relative",e),...a,children:[s.jsx(Je,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),s.jsx(Qe,{}),s.jsx(Ye,{})]})}function Qe({className:e,orientation:t="vertical",...a}){return s.jsx(ye,{"data-slot":"scroll-area-scrollbar",orientation:t,className:H("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...a,children:s.jsx(Ie,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var Ze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const a=W(`Primitive.${t}`),r=u.forwardRef((e,r)=>{const{asChild:n,...l}=e,o=n?a:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),s.jsx(o,{...l,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),et="horizontal",tt=["horizontal","vertical"],st=u.forwardRef((e,t)=>{const{decorative:a,orientation:r=et,...n}=e,l=function(e){return tt.includes(e)}(r)?r:et,o=a?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"};return s.jsx(Ze.div,{"data-orientation":l,...o,...n,ref:t})});st.displayName="Separator";var at=st;function rt({className:e,orientation:t="horizontal",decorative:a=!0,...r}){return s.jsx(at,{"data-slot":"separator",decorative:a,orientation:t,className:H("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function nt({className:e,type:t,...a}){return s.jsx("input",{type:t,"data-slot":"input",className:H("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}const lt=V("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ot({className:e,variant:t,...a}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:H(lt({variant:t}),e),...a})}function it({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:H("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function ct(){const[e,t]=u.useState(!1),[a,r]=u.useState(!0),[n,l]=u.useState(!1);u.useEffect(()=>{e||(r(!0),d({email:"",password:"",name:"",confirmPassword:""}))},[e]);const[o,i]=u.useState({show:!1,message:"",variant:"default"}),[c,d]=u.useState({email:"",password:"",name:"",confirmPassword:""}),x=e=>{d({...c,[e.target.name]:e.target.value})},h=(e,t="default")=>{i({show:!0,message:e,variant:t}),setTimeout(()=>i({show:!1,message:"",variant:"default"}),5e3)};return s.jsxs(Y,{open:e,onOpenChange:t,children:[s.jsx(K,{asChild:!0,children:s.jsx(X,{"data-testid":"login-trigger",variant:"ghost",className:"w-full text-white hover:bg-neutral-800 border border-neutral-700",children:"Login"})}),s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsx(ee,{className:"text-xl font-bold",children:a?"Entrar na sua conta":"Criar nova conta"}),s.jsx(te,{className:"text-neutral-400",children:a?"Digite suas credenciais para acessar a plataforma":"Preencha os dados abaixo para criar sua conta"})]}),o.show&&s.jsx(ot,{variant:o.variant,className:"mt-4",children:s.jsx(it,{children:o.message})}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),l(!0),a)try{const e=await fetch(se.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})}),s=await e.json();200===s.StatusCode&&s.Result?(ae(s.Result.token,s.Result),h("Login realizado com sucesso!","default"),window.dispatchEvent(new CustomEvent("login-success")),t(!1),d({email:"",password:"",name:"",confirmPassword:""})):h(s.StatusMessage||"Erro ao fazer login. Tente novamente.","destructive")}catch(s){console.error("Erro na requisição:",s),h("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{l(!1)}else try{const e=await fetch(se.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password,fullname:c.name})}),t=await e.json();200===t.StatusCode?(h(t.StatusMessage,"default"),r(!0)):h(t.StatusMessage||"Erro ao criar conta. Tente novamente.","destructive")}catch(s){console.error("Erro na requisição:",s),h("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{l(!1)}a||(t(!1),d({email:"",password:"",name:"",confirmPassword:""}))},className:"space-y-4",children:[!a&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-neutral-300",children:"Nome completo"}),s.jsx(nt,{id:"name",name:"name",type:"text",value:c.name,onChange:x,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Seu nome completo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-neutral-300",children:"E-mail"}),s.jsx(nt,{id:"email",name:"email",type:"email",value:c.email,onChange:x,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"seu@email.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-neutral-300",children:"Senha"}),s.jsx(nt,{id:"password",name:"password",type:"password",value:c.password,onChange:x,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),!a&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-neutral-300",children:"Confirmar senha"}),s.jsx(nt,{id:"confirmPassword",name:"confirmPassword",type:"password",value:c.confirmPassword,onChange:x,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),s.jsx(X,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Entrando...":"Criando conta..."]}):s.jsx(s.Fragment,{children:a?"Entrar":"Criar conta"})})]}),s.jsxs("div",{className:"mt-4 text-center space-y-2",children:[s.jsx("button",{type:"button",onClick:()=>{r(!a),d({email:"",password:"",name:"",confirmPassword:""})},className:"text-sm text-green-400 hover:text-green-300 transition-colors",children:a?"Não tem uma conta? Criar conta":"Já tem uma conta? Fazer login"}),a&&s.jsx("button",{type:"button",onClick:()=>{t(!1),setTimeout(()=>{const e=document.querySelector('[data-testid="recover-trigger"]');e&&e.click()},100)},className:"block w-full text-sm text-neutral-400 hover:text-neutral-300 transition-colors",children:"Esqueceu sua senha?"})]})]})]})}function dt(){const[e,t]=u.useState(!1),[a,r]=u.useState(!1),[n,l]=u.useState({show:!1,message:"",variant:"default"}),[o,i]=u.useState({name:"",email:"",password:"",confirmPassword:""}),c=e=>{i({...o,[e.target.name]:e.target.value})},d=(e,t="default")=>{l({show:!0,message:e,variant:t}),setTimeout(()=>l({show:!1,message:"",variant:"default"}),5e3)};return s.jsxs(Y,{open:e,onOpenChange:t,children:[s.jsx(K,{asChild:!0,children:s.jsx(X,{className:"w-full bg-green-600 text-white hover:bg-green-700",children:"Criar conta"})}),s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsx(ee,{className:"text-xl font-bold",children:"Criar nova conta"}),s.jsx(te,{className:"text-neutral-400",children:"Preencha os dados abaixo para criar sua conta"})]}),n.show&&s.jsx(ot,{variant:n.variant,className:"mt-4",children:s.jsx(it,{children:n.message})}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{const e=await fetch(se.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.email,password:o.password,fullname:o.name})}),s=await e.json();200===s.StatusCode?(d(s.StatusMessage,"default"),t(!1),setTimeout(()=>{const e=document.querySelector('[data-testid="login-trigger"]');e&&e.click()},100)):d(s.StatusMessage||"Erro ao criar conta. Tente novamente.","destructive")}catch(s){console.error("Erro na requisição:",s),d("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{r(!1)}i({name:"",email:"",password:"",confirmPassword:""})},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-neutral-300",children:"Nome completo"}),s.jsx(nt,{id:"name",name:"name",type:"text",value:o.name,onChange:c,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Seu nome completo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-neutral-300",children:"E-mail"}),s.jsx(nt,{id:"email",name:"email",type:"email",value:o.email,onChange:c,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"seu@email.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-neutral-300",children:"Senha"}),s.jsx(nt,{id:"password",name:"password",type:"password",value:o.password,onChange:c,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-neutral-300",children:"Confirmar senha"}),s.jsx(nt,{id:"confirmPassword",name:"confirmPassword",type:"password",value:o.confirmPassword,onChange:c,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),s.jsx(X,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar conta"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("span",{className:"text-sm text-neutral-400",children:["Já tem uma conta?"," ",s.jsx("button",{type:"button",onClick:()=>{t(!1),setTimeout(()=>{const e=document.querySelector('[data-testid="login-trigger"]');e&&e.click()},100)},className:"text-green-400 hover:text-green-300 transition-colors",children:"Fazer login"})]})})]})]})}var ut=Object.defineProperty,mt=Object.defineProperties,xt=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,ft=(e,t,s)=>t in e?ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var bt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");var vt=u.createContext({}),jt=u.forwardRef((e,t)=>{var s,a,r,n,l,o=e,{value:i,onChange:c,maxLength:d,textAlign:m="left",pattern:x,placeholder:h,inputMode:p="numeric",onComplete:g,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:b,containerClassName:v,noScriptCSSFallback:j=Nt,render:w,children:N}=o,y=((e,t)=>{var s={};for(var a in e)pt.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&ht)for(var a of ht(e))t.indexOf(a)<0&&gt.call(e,a)&&(s[a]=e[a]);return s})(o,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[C,S]=u.useState("string"==typeof y.defaultValue?y.defaultValue:""),E=null!=i?i:C,k=function(e){let t=u.useRef();return u.useEffect(()=>{t.current=e}),t.current}(E),T=u.useCallback(e=>{null==c||c(e),S(e)},[c]),P=u.useMemo(()=>x?"string"==typeof x?new RegExp(x):x:null,[x]),D=u.useRef(null),O=u.useRef(null),R=u.useRef({value:E,onChange:T,isIOS:"undefined"!=typeof window&&(null==(a=null==(s=null==window?void 0:window.CSS)?void 0:s.supports)?void 0:a.call(s,"-webkit-touch-callout","none"))}),L=u.useRef({prev:[null==(r=D.current)?void 0:r.selectionStart,null==(n=D.current)?void 0:n.selectionEnd,null==(l=D.current)?void 0:l.selectionDirection]});u.useImperativeHandle(t,()=>D.current,[]),u.useEffect(()=>{let e=D.current,t=O.current;if(!e||!t)return;function s(){if(document.activeElement!==e)return F(null),void $(null);let t,s=e.selectionStart,a=e.selectionEnd,r=e.selectionDirection,n=e.maxLength,l=e.value,o=L.current.prev,i=-1,c=-1;if(0!==l.length&&null!==s&&null!==a){let e=s===a,r=s===l.length&&l.length<n;if(e&&!r){let e=s;if(0===e)i=0,c=1,t="forward";else if(e===n)i=e-1,c=e,t="backward";else if(n>1&&l.length>1){let s=0;if(null!==o[0]&&null!==o[1]){t=e<o[1]?"backward":"forward";let a=o[0]===o[1]&&o[0]<n;"backward"===t&&!a&&(s=-1)}i=s+e,c=s+e+1}}-1!==i&&-1!==c&&i!==c&&D.current.setSelectionRange(i,c,t)}let d=-1!==i?i:s,u=-1!==c?c:a,m=null!=t?t:r;F(d),$(u),L.current.prev=[d,u,m]}if(R.current.value!==e.value&&R.current.onChange(e.value),L.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",s,{capture:!0}),s(),document.activeElement===e&&z(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";wt(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),wt(e.sheet,`[data-input-otp]:autofill { ${t} }`),wt(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),wt(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),wt(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let a=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};a();let r=new ResizeObserver(a);return r.observe(e),()=>{document.removeEventListener("selectionchange",s,{capture:!0}),r.disconnect()}},[]);let[I,A]=u.useState(!1),[_,z]=u.useState(!1),[M,F]=u.useState(null),[q,$]=u.useState(null);u.useEffect(()=>{!function(e){setTimeout(e,0),setTimeout(e,10),setTimeout(e,50)}(()=>{var e,t,s,a;null==(e=D.current)||e.dispatchEvent(new Event("input"));let r=null==(t=D.current)?void 0:t.selectionStart,n=null==(s=D.current)?void 0:s.selectionEnd,l=null==(a=D.current)?void 0:a.selectionDirection;null!==r&&null!==n&&(F(r),$(n),L.current.prev=[r,n,l])})},[E,_]),u.useEffect(()=>{void 0!==k&&E!==k&&k.length<d&&E.length===d&&(null==g||g(E))},[d,g,k,E]);let B=function({containerRef:e,inputRef:t,pushPasswordManagerStrategy:s,isFocused:a}){let[r,n]=u.useState(!1),[l,o]=u.useState(!1),[i,c]=u.useState(!1),d=u.useMemo(()=>"none"!==s&&("increase-width"===s||"experimental-no-flickering"===s)&&r&&l,[r,l,s]),m=u.useCallback(()=>{let a=e.current,r=t.current;if(!a||!r||i||"none"===s)return;let l=a,o=l.getBoundingClientRect().left+l.offsetWidth-18,d=l.getBoundingClientRect().top+l.offsetHeight/2;0===document.querySelectorAll(bt).length&&document.elementFromPoint(o,d)===a||(n(!0),c(!0))},[e,t,i,s]);return u.useEffect(()=>{let t=e.current;if(!t||"none"===s)return;function a(){let e=window.innerWidth-t.getBoundingClientRect().right;o(e>=40)}a();let r=setInterval(a,1e3);return()=>{clearInterval(r)}},[e,s]),u.useEffect(()=>{let e=a||document.activeElement===t.current;if("none"===s||!e)return;let r=setTimeout(m,0),n=setTimeout(m,2e3),l=setTimeout(m,5e3),o=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(r),clearTimeout(n),clearTimeout(l),clearTimeout(o)}},[t,a,s,m]),{hasPWMBadge:r,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:O,inputRef:D,pushPasswordManagerStrategy:f,isFocused:_}),U=u.useCallback(e=>{let t=e.currentTarget.value.slice(0,d);t.length>0&&P&&!P.test(t)?e.preventDefault():("string"==typeof k&&t.length<k.length&&document.dispatchEvent(new Event("selectionchange")),T(t))},[d,T,k,P]),H=u.useCallback(()=>{var e;if(D.current){let t=Math.min(D.current.value.length,d-1),s=D.current.value.length;null==(e=D.current)||e.setSelectionRange(t,s),F(t),$(s)}z(!0)},[d]),W=u.useCallback(e=>{var t,s;let a=D.current;if(!(b||R.current.isIOS&&e.clipboardData&&a))return;let r=e.clipboardData.getData("text/plain"),n=b?b(r):r;e.preventDefault();let l=null==(t=D.current)?void 0:t.selectionStart,o=null==(s=D.current)?void 0:s.selectionEnd,i=(l!==o?E.slice(0,l)+n+E.slice(o):E.slice(0,l)+n+E.slice(l)).slice(0,d);if(i.length>0&&P&&!P.test(i))return;a.value=i,T(i);let c=Math.min(i.length,d-1),u=i.length;a.setSelectionRange(c,u),F(c),$(u)},[d,T,P,E]),V=u.useMemo(()=>({position:"relative",cursor:y.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[y.disabled]),X=u.useMemo(()=>({position:"absolute",inset:0,width:B.willPushPWMBadge?`calc(100% + ${B.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:B.willPushPWMBadge?`inset(0 ${B.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:m,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[B.PWM_BADGE_SPACE_WIDTH,B.willPushPWMBadge,m]),G=u.useMemo(()=>u.createElement("input",((e,t)=>mt(e,xt(t)))(((e,t)=>{for(var s in t||(t={}))pt.call(t,s)&&ft(e,s,t[s]);if(ht)for(var s of ht(t))gt.call(t,s)&&ft(e,s,t[s]);return e})({autoComplete:y.autoComplete||"one-time-code"},y),{"data-input-otp":!0,"data-input-otp-placeholder-shown":0===E.length||void 0,"data-input-otp-mss":M,"data-input-otp-mse":q,inputMode:p,pattern:null==P?void 0:P.source,"aria-placeholder":h,style:X,maxLength:d,value:E,ref:D,onPaste:e=>{var t;W(e),null==(t=y.onPaste)||t.call(y,e)},onChange:U,onMouseOver:e=>{var t;A(!0),null==(t=y.onMouseOver)||t.call(y,e)},onMouseLeave:e=>{var t;A(!1),null==(t=y.onMouseLeave)||t.call(y,e)},onFocus:e=>{var t;H(),null==(t=y.onFocus)||t.call(y,e)},onBlur:e=>{var t;z(!1),null==(t=y.onBlur)||t.call(y,e)}})),[U,H,W,p,X,d,q,M,y,null==P?void 0:P.source,E]),J=u.useMemo(()=>({slots:Array.from({length:d}).map((e,t)=>{var s;let a=_&&null!==M&&null!==q&&(M===q&&t===M||t>=M&&t<q),r=void 0!==E[t]?E[t]:null;return{char:r,placeholderChar:void 0!==E[0]?null:null!=(s=null==h?void 0:h[t])?s:null,isActive:a,hasFakeCaret:a&&null===r}}),isFocused:_,isHovering:!y.disabled&&I}),[_,I,d,q,M,y.disabled,E]),Y=u.useMemo(()=>w?w(J):u.createElement(vt.Provider,{value:J},N),[N,J,w]);return u.createElement(u.Fragment,null,null!==j&&u.createElement("noscript",null,u.createElement("style",null,j)),u.createElement("div",{ref:O,"data-input-otp-container":!0,style:V,className:v},Y,u.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},G)))});function wt(e,t){try{e.insertRule(t)}catch(s){console.error("input-otp could not insert CSS rule:",t)}}jt.displayName="Input";var Nt="\n[data-input-otp] {\n  --nojs-bg: white !important;\n  --nojs-fg: black !important;\n\n  background-color: var(--nojs-bg) !important;\n  color: var(--nojs-fg) !important;\n  caret-color: var(--nojs-fg) !important;\n  letter-spacing: .25em !important;\n  text-align: center !important;\n  border: 1px solid var(--nojs-fg) !important;\n  border-radius: 4px !important;\n  width: 100% !important;\n}\n@media (prefers-color-scheme: dark) {\n  [data-input-otp] {\n    --nojs-bg: black !important;\n    --nojs-fg: white !important;\n  }\n}";function yt({className:e,containerClassName:t,...a}){return s.jsx(jt,{"data-slot":"input-otp",containerClassName:H("flex items-center gap-2 has-disabled:opacity-50",t),className:H("disabled:cursor-not-allowed",e),...a})}function Ct({className:e,...t}){return s.jsx("div",{"data-slot":"input-otp-group",className:H("flex items-center",e),...t})}function St({index:e,className:t,...a}){const r=u.useContext(vt),{char:n,hasFakeCaret:l,isActive:o}=r?.slots[e]??{};return s.jsxs("div",{"data-slot":"input-otp-slot","data-active":o,className:H("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...a,children:[n,l&&s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function Et(){const[e,t]=u.useState(!1),[a,r]=u.useState(1),[n,l]=u.useState(!1),[o,i]=u.useState({show:!1,message:"",variant:"default"}),[c,d]=u.useState({email:"",code:"",newPassword:"",confirmPassword:""}),x=(e,t="default")=>{i({show:!0,message:e,variant:t}),setTimeout(()=>i({show:!1,message:"",variant:"default"}),5e3)},h=e=>{d({...c,[e.target.name]:e.target.value})};return s.jsxs(Y,{open:e,onOpenChange:e=>{t(e),e||(r(1),d({email:"",code:"",newPassword:"",confirmPassword:""}))},children:[s.jsx(K,{asChild:!0,children:s.jsx(X,{"data-testid":"recover-trigger",variant:"ghost",className:"w-full text-white hover:bg-neutral-800 border border-neutral-700",children:"Recuperar Senha"})}),s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"text-xl font-bold",children:[1===a&&"Recuperar Senha",2===a&&"Verificar Código",3===a&&"Nova Senha"]}),s.jsxs(te,{className:"text-neutral-400",children:[1===a&&"Digite seu e-mail para receber um código de recuperação",2===a&&"Digite o código de 6 dígitos enviado para seu e-mail",3===a&&"Digite sua nova senha"]})]}),o.show&&s.jsx(ot,{variant:o.variant,className:"mt-4",children:s.jsx(it,{children:o.message})}),1===a&&s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e=await fetch(se.RECOVER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email})}),t=await e.json();200===t.StatusCode?(x(t.StatusMessage,"default"),r(2)):x(t.StatusMessage||"Erro ao enviar código. Tente novamente.","destructive")}catch(t){console.error("Erro na requisição:",t),x("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{l(!1)}},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-neutral-300",children:"E-mail"}),s.jsx(nt,{id:"email",name:"email",type:"email",value:c.email,onChange:h,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"seu@email.com"})]}),s.jsx(X,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):"Enviar Código"})]}),2===a&&s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e=await fetch(se.VERIFY_CODE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,code:c.code})}),t=await e.json();200===t.StatusCode?(x(t.StatusMessage,"default"),r(3)):x(t.StatusMessage||"Código inválido. Tente novamente.","destructive")}catch(t){console.error("Erro na requisição:",t),x("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{l(!1)}},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Código de Verificação"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(yt,{maxLength:6,value:c.code,onChange:e=>{d({...c,code:e})},children:s.jsxs(Ct,{children:[s.jsx(St,{index:0}),s.jsx(St,{index:1}),s.jsx(St,{index:2}),s.jsx(St,{index:3}),s.jsx(St,{index:4}),s.jsx(St,{index:5})]})})})]}),s.jsx(X,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:n||6!==c.code.length,children:n?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),"Verificando..."]}):"Verificar Código"})]}),3===a&&s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c.newPassword===c.confirmPassword){l(!0);try{const e=await fetch(se.RESET_PASSWORD,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,code:c.code,newPassword:c.newPassword})}),s=await e.json();200===s.StatusCode?(x(s.StatusMessage,"default"),setTimeout(()=>{t(!1),r(1),d({email:"",code:"",newPassword:"",confirmPassword:""});const e=document.querySelector('[data-testid="login-trigger"]');e&&e.click()},2e3)):x(s.StatusMessage||"Erro ao redefinir senha. Tente novamente.","destructive")}catch(s){console.error("Erro na requisição:",s),x("Erro ao conectar com o servidor. Tente novamente.","destructive")}finally{l(!1)}}else x("As senhas não coincidem.","destructive")},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"newPassword",className:"text-sm font-medium text-neutral-300",children:"Nova Senha"}),s.jsx(nt,{id:"newPassword",name:"newPassword",type:"password",value:c.newPassword,onChange:h,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-neutral-300",children:"Confirmar Nova Senha"}),s.jsx(nt,{id:"confirmPassword",name:"confirmPassword",type:"password",value:c.confirmPassword,onChange:h,required:!0,className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"••••••••"})]}),s.jsx(X,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Redefinir Senha"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{type:"button",onClick:()=>{t(!1),setTimeout(()=>{const e=document.querySelector('[data-testid="login-trigger"]');e&&e.click()},100)},className:"text-sm text-green-400 hover:text-green-300 transition-colors",children:"Voltar para o Login"})})]})]})}const kt=V("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function Tt({className:e,variant:t="default",asChild:a=!1,...r}){const n=a?G:"span";return s.jsx(n,{"data-slot":"badge","data-variant":t,className:H(kt({variant:t}),e),...r})}function Pt(...e){const t=e[0];if(1===e.length)return t;const s=()=>{const s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const a=s.reduce((t,{useScope:s,scopeName:a})=>({...t,...s(e)[`__scope${a}`]}),{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}var Dt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const a=W(`Primitive.${t}`),r=u.forwardRef((e,r)=>{const{asChild:n,...l}=e,o=n?a:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),s.jsx(o,{...l,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Ot="Progress",Rt=100,[Lt]=function(e,t=[]){let a=[];const r=()=>{const t=a.map(e=>u.createContext(e));return function(s){const a=s?.[e]||t;return u.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return r.scopeName=e,[function(t,r){const n=u.createContext(r);n.displayName=t+"Context";const l=a.length;a=[...a,r];const o=t=>{const{scope:a,children:r,...o}=t,i=a?.[e]?.[l]||n,c=u.useMemo(()=>o,Object.values(o));return s.jsx(i.Provider,{value:c,children:r})};return o.displayName=t+"Provider",[o,function(s,a){const o=a?.[e]?.[l]||n,i=u.useContext(o);if(i)return i;if(void 0!==r)return r;throw new Error(`\`${s}\` must be used within \`${t}\``)}]},Pt(r,...t)]}(Ot),[It,At]=Lt(Ot),_t=u.forwardRef((e,t)=>{const{__scopeProgress:a,value:r=null,max:n,getValueLabel:l=Ft,...o}=e;!n&&0!==n||Bt(n)||console.error(`Invalid prop \`max\` of value \`${`${n}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const i=Bt(n)?n:Rt;null===r||Ut(r,i)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${r}`,"Progress"));const c=Ut(r,i)?r:null,d=$t(c)?l(c,i):void 0;return s.jsx(It,{scope:a,value:c,max:i,children:s.jsx(Dt.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":$t(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":qt(c,i),"data-value":c??void 0,"data-max":i,...o,ref:t})})});_t.displayName=Ot;var zt="ProgressIndicator",Mt=u.forwardRef((e,t)=>{const{__scopeProgress:a,...r}=e,n=At(zt,a);return s.jsx(Dt.div,{"data-state":qt(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:t})});function Ft(e,t){return`${Math.round(e/t*100)}%`}function qt(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function $t(e){return"number"==typeof e}function Bt(e){return $t(e)&&!isNaN(e)&&e>0}function Ut(e,t){return $t(e)&&!isNaN(e)&&e<=t&&e>=0}Mt.displayName=zt;var Ht=_t,Wt=Mt;function Vt({className:e,value:t,...a}){return s.jsx(Ht,{"data-slot":"progress",className:H("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:s.jsx(Wt,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function Xt({children:e}){const[t,a]=u.useState(!1),r=e=>{switch(e){case"completed":return s.jsx(Tt,{className:"bg-green-600 hover:bg-green-700",children:"Concluído"});case"in_progress":return s.jsx(Tt,{className:"bg-blue-600 hover:bg-blue-700",children:"Em andamento"});case"not_started":return s.jsx(Tt,{variant:"secondary",children:"Não iniciado"});default:return null}},n=e=>{switch(e){case"completed":return s.jsx(h,{className:"h-5 w-5 text-green-400"});case"in_progress":return s.jsx(p,{className:"h-5 w-5 text-blue-400"});case"not_started":return s.jsx(f,{className:"h-5 w-5 text-neutral-400"});default:return null}};return s.jsxs(Y,{open:t,onOpenChange:a,children:[s.jsx(K,{asChild:!0,children:e}),s.jsxs(Q,{"data-my-courses-dialog":!0,className:"bg-neutral-950 border-neutral-800 text-white w-[calc(100vw-1.5rem)] sm:w-full max-w-6xl sm:max-w-6xl !h-[90vh] !max-h-[90vh] overflow-hidden p-0 !flex !flex-col !gap-0",children:[s.jsxs(Z,{className:"px-4 sm:px-6 py-4 border-b border-neutral-800 shrink-0",children:[s.jsx(ee,{className:"text-2xl font-bold text-white",children:"Meus Cursos"}),s.jsx(te,{className:"text-neutral-400",children:"Acompanhe seu progresso e continue seus estudos"})]}),s.jsxs("div",{"data-my-courses-scroll":!0,className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden scrollbar-hide px-4 sm:px-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx(re,{className:"bg-neutral-900 border-neutral-800",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(x,{className:"h-8 w-8 text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:"4"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Cursos"})]})]})})}),s.jsx(re,{className:"bg-neutral-900 border-neutral-800",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(h,{className:"h-8 w-8 text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:"1"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Concluídos"})]})]})})}),s.jsx(re,{className:"bg-neutral-900 border-neutral-800",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(p,{className:"h-8 w-8 text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:"2"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Em andamento"})]})]})})}),s.jsx(re,{className:"bg-neutral-900 border-neutral-800",children:s.jsx(ne,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(g,{className:"h-8 w-8 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:"42h"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Total de conteúdo"})]})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[{id:1,title:"Desenvolvimento Web Completo",instructor:"Ruan Cardoso",progress:75,totalLessons:45,completedLessons:34,duration:"12h 30min",thumbnail:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=200&fit=crop",status:"in_progress",lastAccessed:"Há 2 dias"},{id:2,title:"React Avançado",instructor:"Ruan Cardoso",progress:100,totalLessons:32,completedLessons:32,duration:"8h 15min",thumbnail:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=400&h=200&fit=crop",status:"completed",lastAccessed:"Há 1 semana"},{id:3,title:"Cybersecurity Fundamentals",instructor:"Ruan Cardoso",progress:30,totalLessons:28,completedLessons:8,duration:"6h 45min",thumbnail:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=400&h=200&fit=crop",status:"in_progress",lastAccessed:"Há 5 dias"},{id:4,title:"Machine Learning Basics",instructor:"Ruan Cardoso",progress:0,totalLessons:40,completedLessons:0,duration:"15h 20min",thumbnail:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?w=400&h=200&fit=crop",status:"not_started",lastAccessed:"Nunca"}].map(e=>s.jsxs(re,{className:"bg-neutral-900 border-neutral-800 hover:border-neutral-700 transition-colors",children:[s.jsx(le,{className:"pb-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative shrink-0 w-full sm:w-24 h-40 sm:h-16 rounded-lg overflow-hidden",children:[s.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:n(e.status)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(oe,{className:"text-lg font-semibold text-white leading-snug wrap-break-word mb-1",children:e.title}),s.jsxs("p",{className:"text-sm text-neutral-400 mb-2",children:["por ",e.instructor]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r(e.status),s.jsx("span",{className:"text-xs text-neutral-500",children:e.lastAccessed})]})]})]})}),s.jsx(ne,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-neutral-400",children:"Progresso"}),s.jsxs("span",{className:"text-white font-medium",children:[e.progress,"%"]})]}),s.jsx(Vt,{value:e.progress,className:"h-2 bg-neutral-700"})]}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-neutral-400",children:[s.jsxs("span",{children:[e.completedLessons,"/",e.totalLessons," ","aulas"]}),s.jsx("span",{children:e.duration})]})}),s.jsx(X,{className:"w-full bg-green-600 hover:bg-green-700 text-white",disabled:"not_started"===e.status,children:"completed"===e.status?"Rever Curso":"in_progress"===e.status?"Continuar":"Começar Curso"})]})})]},e.id))})]})]})]})}const Gt=async(e,t={})=>{const s=ie();if(!s)throw new Error("Token de autenticação não encontrado");const a={"Content-Type":"application/json",Authorization:`Bearer ${s}`,...t.headers},r=await fetch(e,{...t,headers:a});if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.message||`HTTP error! status: ${r.status}`)}return r.json()},Jt=async()=>await Gt(se.CATEGORIES,{method:"GET"}),Yt=async(e,t)=>await Gt(se.CATEGORIES_CREATE,{method:"POST",body:JSON.stringify({name:e,description:t})}),Kt=async(e,t,s)=>await Gt(se.CATEGORIES_UPDATE,{method:"POST",body:JSON.stringify({id:e,name:t,description:s})}),Qt=async e=>await Gt(se.CATEGORIES_DELETE,{method:"POST",body:JSON.stringify({id:e})}),Zt=async(e,t,s)=>await Gt(se.COURSES_CREATE,{method:"POST",body:JSON.stringify({categoryId:e,title:t,description:s})}),es=async(e,t,s)=>await Gt(se.COURSES_UPDATE,{method:"POST",body:JSON.stringify({id:e,title:t,description:s})}),ts=async e=>await Gt(se.COURSES_DELETE,{method:"POST",body:JSON.stringify({id:e})}),ss=async(e,t,s,a)=>await Gt(se.LESSONS_CREATE,{method:"POST",body:JSON.stringify({courseId:e,title:t,duration:s,description:a})}),as=async(e,t,s,a,r)=>await Gt(se.LESSONS_UPDATE,{method:"POST",body:JSON.stringify({id:e,title:t,duration:s,description:a,isPaid:r})}),rs=async e=>await Gt(se.LESSONS_DELETE,{method:"POST",body:JSON.stringify({id:e})}),ns=async e=>await Gt(`${se.COURSES_BY_CATEGORY}?categoryId=${e}`,{method:"GET"}),ls=async e=>await Gt(`${se.LESSONS_BY_COURSE}?courseId=${e}`,{method:"GET"}),os=async(e,t,s)=>await(async(e,t,s,a)=>{const r=ie();if(!r)throw new Error("Token de autenticação não encontrado");const n=52428800,l=Math.ceil(t.size/n),o=async(t,n,l)=>{const o=new FormData;o.append("video",t);const i={lessonId:a,chunkIndex:n,totalChunks:l},c=new Blob([JSON.stringify(i)],{type:"application/json"}),d=new File([c],"videoPath.json",{type:"application/json"});return o.append("videoPath",d),new Promise((t,a)=>{const i=new XMLHttpRequest;s&&i.upload.addEventListener("progress",e=>{if(e.lengthComputable){const t=n/l*100,a=e.loaded/e.total*(100/l),r=Math.round(t+a),o=Math.min(r,95);console.log(`Progresso chunk ${n+1}/${l}: ${o}% (loaded: ${e.loaded}, total: ${e.total})`),s(o)}}),i.addEventListener("load",()=>{if(console.log(`Resposta do chunk ${n+1}/${l}:`,i.responseText),console.log("Status HTTP:",i.status),i.status>=200&&i.status<300)try{const e=JSON.parse(i.responseText);console.log("Resposta parseada:",e),t(e)}catch(e){console.error("Erro ao parsear resposta:",e),a(new Error("Resposta inválida do servidor"))}else try{const e=JSON.parse(i.responseText);console.error("Erro do servidor:",e),a(new Error(e.message||`HTTP error! status: ${i.status}`))}catch{console.error("Resposta de erro não é JSON:",i.responseText),a(new Error(`HTTP error! status: ${i.status}`))}}),i.addEventListener("error",()=>{a(new Error("Erro de conexão"))}),i.open("POST",e),i.setRequestHeader("Authorization",`Bearer ${r}`),i.send(o)})};try{let e=null;for(let a=0;a<l;a++){const r=a*n,c=Math.min(r+n,t.size),d=t.slice(r,c);try{e=await o(d,a,l),a===l-1&&s&&s(100)}catch(i){throw new Error(`Erro ao fazer upload da parte ${a+1}/${l}: ${i.message}`)}}return console.log("Retornando resposta final:",e),e||{StatusCode:200,StatusMessage:"Upload concluído com sucesso"}}catch(i){throw i}})(se.VIDEO_UPLOAD,e,t,s),is=async()=>{try{const e=await Gt(se.VIDEO_PROCESSING_STATUS,{method:"GET"});return"string"==typeof e?"true"===e.toLowerCase():e&&"object"==typeof e?"true"===e.status||"true"===e.result||"true"===e.data:"true"===String(e).toLowerCase()}catch(e){return console.error("Erro ao verificar status de processamento:",e),!1}};function cs({isOpen:e,onOpenChange:t,categoryName:a,onCategoryNameChange:r,categoryDescription:n,onCategoryDescriptionChange:l,onCreateCategory:o,isLoading:i=!1}){return s.jsxs(Y,{open:e,onOpenChange:t,children:[s.jsx(K,{asChild:!0,children:s.jsxs(X,{className:"bg-green-600 hover:bg-green-700",children:[s.jsx(b,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})}),s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Criar Nova Categoria"}),s.jsx(te,{className:"text-neutral-400",children:"Digite o nome da nova categoria para adicionar ao dashboard."})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsx(nt,{value:a,onChange:e=>r(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Nome da categoria",onKeyDown:e=>{"Enter"===e.key&&o()}}),s.jsx("textarea",{value:n,onChange:e=>l(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"Descrição da categoria",rows:3,required:!0})]}),s.jsxs(ce,{children:[s.jsx(X,{onClick:()=>{t(!1),r(""),l("")},className:"border border-neutral-700 text-white hover:bg-neutral-800",disabled:i,children:"Cancelar"}),s.jsx(X,{onClick:o,className:"bg-green-600 hover:bg-green-700",disabled:!a.trim()||!n.trim()||i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"h-4 w-4 animate-spin"}),"Criando..."]}):"Criar Categoria"})]})]})]})}function ds({isOpen:e,onOpenChange:t,courseTitle:a,onCourseTitleChange:r,courseDescription:n,onCourseDescriptionChange:l,onCreateCourse:o,selectedCategoryId:i,categories:c,isLoading:d=!1}){const u=c.find(e=>e.id===i);return s.jsxs(Y,{open:e,onOpenChange:t,children:[s.jsx(K,{asChild:!0,children:s.jsxs(X,{variant:"ghost",className:"border border-neutral-700 hover:bg-neutral-900",disabled:!i,children:[s.jsx(b,{className:"h-4 w-4 mr-2"}),"Novo Curso"]})}),s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Criar Novo Curso"}),s.jsx(te,{className:"text-neutral-400",children:i?`Adicionando um novo curso à categoria: ${u?.name}`:"Selecione uma categoria primeiro para criar um curso."})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsx(nt,{value:a,onChange:e=>r(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Título do curso",onKeyDown:e=>{"Enter"===e.key&&o()}}),s.jsx("textarea",{value:n,onChange:e=>l(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"Descrição do curso",rows:3,required:!0})]}),s.jsxs(ce,{children:[s.jsx(X,{onClick:()=>{t(!1),r(""),l("")},className:"border border-neutral-700 text-white hover:bg-neutral-800",disabled:d,children:"Cancelar"}),s.jsx(X,{onClick:o,className:"bg-green-600 hover:bg-green-700",disabled:!a.trim()||!n.trim()||!i||d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"h-4 w-4 animate-spin"}),"Criando..."]}):"Criar Curso"})]})]})]})}function us({isOpen:e,onOpenChange:t,lessonTitle:a,onLessonTitleChange:r,lessonDuration:n,onLessonDurationChange:l,lessonDescription:o,onLessonDescriptionChange:i,onCreateLesson:c,selectedCategoryId:d,selectedCourseId:u,categories:x,isLoading:h=!1}){const p=x.find(e=>e.id===d),g=p?.courses.find(e=>e.id===u);return s.jsxs(Y,{open:e,onOpenChange:t,children:[s.jsx(K,{asChild:!0,children:s.jsxs(X,{variant:"ghost",className:"border border-neutral-700 hover:bg-neutral-900",disabled:!u,children:[s.jsx(b,{className:"h-4 w-4 mr-2"}),"Nova Aula"]})}),s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Criar Nova Aula"}),s.jsx(te,{className:"text-neutral-400",children:u?`Adicionando uma nova aula ao curso: ${g?.title}`:"Selecione um curso primeiro para criar uma aula."})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsx(nt,{value:a,onChange:e=>r(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Título da aula"}),s.jsx(nt,{value:n,onChange:e=>l(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Duração (ex: 15:30)"}),s.jsx("textarea",{value:o,onChange:e=>i(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"Descrição da aula",rows:3,required:!0})]}),s.jsxs(ce,{children:[s.jsx(X,{onClick:()=>{t(!1),r(""),l(""),i("")},className:"border border-neutral-700 text-white hover:bg-neutral-800",disabled:h,children:"Cancelar"}),s.jsx(X,{onClick:c,className:"bg-green-600 hover:bg-green-700",disabled:!a.trim()||!n.trim()||!o.trim()||!u||h,children:h?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"h-4 w-4 animate-spin"}),"Criando..."]}):"Criar Aula"})]})]})]})}var ms="Checkbox",[xs]=n(ms),[hs,ps]=xs(ms);function gs(e){const{__scopeCheckbox:t,checked:a,children:r,defaultChecked:n,disabled:l,form:o,name:i,onCheckedChange:d,required:m,value:x="on",internal_do_not_use_render:h}=e,[p,g]=c({prop:a,defaultProp:n??!1,onChange:d,caller:ms}),[f,b]=u.useState(null),[v,j]=u.useState(null),w=u.useRef(!1),N=!f||(!!o||!!f.closest("form")),y={checked:p,disabled:l,setChecked:g,control:f,setControl:b,name:i,form:o,value:x,hasConsumerStoppedPropagationRef:w,required:m,defaultChecked:!Ss(n)&&n,isFormControl:N,bubbleInput:v,setBubbleInput:j};return s.jsx(hs,{scope:t,...y,children:Cs(h)?h(y):r})}var fs="CheckboxTrigger",bs=u.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:n,...o},i)=>{const{control:c,value:d,disabled:m,checked:x,required:h,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:f,isFormControl:b,bubbleInput:v}=ps(fs,t),j=e(i,p),w=u.useRef(x);return u.useEffect(()=>{const e=c?.form;if(e){const t=()=>g(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,g]),s.jsx(a.button,{type:"button",role:"checkbox","aria-checked":Ss(x)?"mixed":x,"aria-required":h,"data-state":Es(x),"data-disabled":m?"":void 0,disabled:m,value:d,...o,ref:j,onKeyDown:l(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:l(n,e=>{g(e=>!!Ss(e)||!e),v&&b&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});bs.displayName=fs;var vs=u.forwardRef((e,t)=>{const{__scopeCheckbox:a,name:r,checked:n,defaultChecked:l,required:o,disabled:i,value:c,onCheckedChange:d,form:u,...m}=e;return s.jsx(gs,{__scopeCheckbox:a,checked:n,defaultChecked:l,disabled:i,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>s.jsxs(s.Fragment,{children:[s.jsx(bs,{...m,ref:t,__scopeCheckbox:a}),e&&s.jsx(ys,{__scopeCheckbox:a})]})})});vs.displayName=ms;var js="CheckboxIndicator",ws=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:l,...o}=e,i=ps(js,n);return s.jsx(r,{present:l||Ss(i.checked)||!0===i.checked,children:s.jsx(a.span,{"data-state":Es(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});ws.displayName=js;var Ns="CheckboxBubbleInput",ys=u.forwardRef(({__scopeCheckbox:t,...r},n)=>{const{control:l,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:c,required:m,disabled:x,name:h,value:p,form:g,bubbleInput:f,setBubbleInput:b}=ps(Ns,t),v=e(n,b),j=function(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(i),w=d(l);u.useEffect(()=>{const e=f;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set,a=!o.current;if(j!==i&&s){const t=new Event("click",{bubbles:a});e.indeterminate=Ss(i),s.call(e,!Ss(i)&&i),e.dispatchEvent(t)}},[f,j,i,o]);const N=u.useRef(!Ss(i)&&i);return s.jsx(a.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??N.current,required:m,disabled:x,name:h,value:p,form:g,...r,tabIndex:-1,ref:v,style:{...r.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Cs(e){return"function"==typeof e}function Ss(e){return"indeterminate"===e}function Es(e){return Ss(e)?"indeterminate":e?"checked":"unchecked"}function ks({className:e,...t}){return s.jsx(vs,{"data-slot":"checkbox",className:H("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(ws,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:s.jsx(v,{className:"size-3.5"})})})}function Ts({isOpen:e,onOpenChange:t,onVideoSelect:a,currentVideoUrl:r,videoPath:n}){const[l,o]=u.useState(null),[i,c]=u.useState(!1),[d,m]=u.useState(!1),[x,h]=u.useState(0),[p,f]=u.useState(null),[b,v]=u.useState(0),[k,T]=u.useState(0),[P,D]=u.useState(0),[O,R]=u.useState(!1),[L,I]=u.useState({isOpen:!1,title:"",message:"",isSuccess:!1}),A=u.useRef(null);u.useEffect(()=>{let e;return d&&p&&(e=setInterval(()=>{const e=Math.floor((Date.now()-p)/1e3);v(e)},1e3)),()=>{e&&clearInterval(e)}},[d,p]),u.useEffect(()=>{console.log("Estado do errorDialog mudou:",L)},[L]),u.useEffect(()=>{e&&is().then(e=>{R(e)}).catch(e=>{console.error("Erro ao verificar status:",e),R(!1)})},[e]);const _=e=>{e&&e.type.startsWith("video/")?o(e):alert("Por favor, selecione um arquivo de vídeo válido.")},z=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},M=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return s.jsxs(Y,{open:e,onOpenChange:t,children:[s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white max-w-2xl",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Upload de Vídeo"}),s.jsx(te,{className:"text-neutral-400",children:"Selecione um arquivo de vídeo para esta aula."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative border-2 border-dashed rounded-xl p-10 text-center transition-all duration-300 "+(i?"border-green-400 bg-green-400/5 scale-[1.02] shadow-lg shadow-green-400/10":"border-neutral-700 hover:border-neutral-600 hover:bg-neutral-900/30"),onDragEnter:z,onDragLeave:z,onDragOver:z,onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&_(e.dataTransfer.files[0])},children:[s.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[s.jsx("div",{className:"p-4 rounded-full transition-all duration-300 "+(i?"bg-green-400/20":"bg-neutral-800"),children:s.jsx(j,{className:"h-10 w-10 transition-colors duration-300 "+(i?"text-green-400":"text-neutral-400")})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xl font-semibold text-white",children:"Arraste e solte o vídeo aqui"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"ou clique para selecionar da galeria"})]}),s.jsxs(X,{onClick:()=>A.current?.click(),className:"border border-green-600/50 text-green-400 hover:bg-green-600/10 hover:border-green-400 transition-all duration-300",children:[s.jsx(w,{className:"h-4 w-4 mr-2"}),"Selecionar Vídeo"]})]}),s.jsx("input",{ref:A,type:"file",accept:"video/*",onChange:e=>{const t=e.target.files[0];t&&_(t)},className:"hidden"})]}),l&&s.jsxs("div",{className:"bg-neutral-900/50 rounded-xl p-6 border border-neutral-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-green-400/10 rounded-lg",children:s.jsx(w,{className:"h-8 w-8 text-green-400"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-semibold text-white truncate max-w-xs",children:l.name}),s.jsxs("p",{className:"text-xs text-neutral-400 flex items-center gap-2",children:[s.jsx(N,{className:"h-3 w-3"}),M(l.size)]})]})]}),!d&&s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>o(null),className:"text-red-400 hover:text-red-300 hover:bg-red-900/20 transition-colors duration-200",children:s.jsx(y,{className:"h-4 w-4"})})]}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin",children:s.jsx(j,{className:"h-4 w-4 text-green-400"})}),s.jsx("span",{className:"text-sm font-medium text-green-400",children:"Fazendo upload..."})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-sm font-semibold text-green-400",children:[x,"%"]}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-neutral-500",children:[s.jsx(g,{className:"h-3 w-3"}),s.jsx("span",{children:(e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})(b)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Vt,{value:x,className:"h-3 bg-neutral-800"}),s.jsx("div",{className:"h-1 bg-neutral-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-linear-to-r from-green-400 to-green-600 rounded-full transition-all duration-300 ease-out",style:{width:`${x}%`}})})]}),P>1&&s.jsxs("div",{className:"bg-linear-to-r from-green-400/5 to-green-600/5 border border-green-600/20 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-green-400/10 rounded-lg",children:s.jsx(C,{className:"h-4 w-4 text-green-400"})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-semibold text-green-400",children:"Upload em Partes"}),s.jsx("p",{className:"text-xs text-neutral-400",children:"Arquivo grande dividido para melhor performance"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-neutral-800/50 rounded-lg",children:[s.jsx("span",{className:"text-neutral-400",children:"Parte atual"}),s.jsxs("span",{className:"font-semibold text-green-400",children:[k," de ",P]})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-neutral-800/50 rounded-lg",children:[s.jsx("span",{className:"text-neutral-400",children:"Tamanho total"}),s.jsx("span",{className:"font-semibold text-white",children:M(l.size)})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-neutral-800/50 rounded-lg",children:[s.jsx("span",{className:"text-neutral-400",children:"Tamanho da parte"}),s.jsx("span",{className:"font-semibold text-white",children:"50MB"})]})]})]})]}),!d&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"bg-black rounded-lg overflow-hidden border border-neutral-800",children:s.jsx("video",{src:URL.createObjectURL(l),className:"w-full",controls:!0,style:{maxHeight:"200px"}})})})]}),r&&!l&&s.jsxs("div",{className:"bg-neutral-900/50 rounded-xl p-6 border border-neutral-800",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(w,{className:"h-4 w-4 text-neutral-400"}),s.jsx("p",{className:"text-sm font-medium text-neutral-400",children:"Vídeo atual:"})]}),s.jsx("div",{className:"bg-black rounded-lg overflow-hidden border border-neutral-800",children:s.jsx("video",{src:r,className:"w-full",controls:!0,style:{maxHeight:"200px"}})})]})]}),s.jsxs(ce,{className:"gap-3",children:[s.jsx(X,{onClick:()=>{o(null),t(!1)},className:"border border-neutral-700 text-white hover:bg-neutral-800 transition-colors duration-200",children:"Cancelar"}),s.jsx(X,{onClick:async()=>{if(l)try{m(!0),h(0),f(Date.now()),v(0);const e=52428800,s=Math.ceil(l.size/e);D(s),T(0);const r=await os(l,e=>{h(e);const t=Math.min(Math.floor(e/100*s),s-1);T(t+1)},n);console.log("Resposta do servidor:",r);const i=r&&(200===r.StatusCode||200===r.status);if(I({isOpen:!0,title:i?"Resposta do Servidor":"Erro no Upload",message:i?r?.StatusMessage||r?.message||"Upload processado com sucesso":r?.StatusMessage||r?.message||r?.error||"Ocorreu um erro ao fazer upload do vídeo. Tente novamente.",isSuccess:i}),i){const e=r?.Result?.url||r?.url||URL.createObjectURL(l);a({file:l,url:e,name:l.name,size:l.size,type:l.type}),setTimeout(()=>{o(null),h(0),f(null),v(0),T(0),D(0),t(!1)},2e3)}else h(0),f(null),v(0),T(0),D(0)}finally{m(!1)}},className:"font-medium transition-all duration-200 "+(O?"bg-neutral-700 hover:bg-neutral-600 text-neutral-300 cursor-not-allowed border border-neutral-600":"bg-linear-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 text-white shadow-lg shadow-green-600/25"),disabled:!l||d||O,children:d?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin",children:s.jsx(j,{className:"h-4 w-4"})}),s.jsx("span",{children:"Enviando..."})]}):O?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-pulse",children:s.jsx(g,{className:"h-4 w-4"})}),s.jsx("span",{children:"Processando"})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(j,{className:"h-4 w-4"}),s.jsx("span",{children:"Fazer Upload"})]})})]})]}),s.jsx(Y,{open:L.isOpen,onOpenChange:e=>I(t=>({...t,isOpen:e})),children:s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white max-w-md",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full transition-all duration-300 "+(L.isSuccess?"bg-green-400/20 text-green-400 shadow-lg shadow-green-400/25":"bg-red-400/20 text-red-400 shadow-lg shadow-red-400/25"),children:L.isSuccess?s.jsx(S,{className:"h-6 w-6"}):s.jsx(E,{className:"h-6 w-6"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ee,{className:"text-lg font-semibold "+(L.isSuccess?"text-green-400":"text-red-400"),children:L.title}),s.jsx("p",{className:"text-sm text-neutral-400",children:L.isSuccess?"Operação concluída com sucesso":"Ocorreu um erro inesperado"})]})]})}),s.jsx("div",{className:"py-2",children:s.jsx(te,{className:"text-neutral-300 leading-relaxed",children:L.message})}),s.jsx(ce,{className:"gap-2",children:s.jsx(X,{onClick:()=>I(e=>({...e,isOpen:!1})),className:"font-medium transition-all duration-200 "+(L.isSuccess?"bg-linear-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 text-white shadow-lg shadow-green-600/25":"bg-linear-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-600/25"),children:L.isSuccess?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(S,{className:"h-4 w-4"}),s.jsx("span",{children:"OK"})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(y,{className:"h-4 w-4"}),s.jsx("span",{children:"Fechar"})]})})})]})})]})}function Ps({isOpen:e,onOpenChange:t,lesson:a,onSaveLesson:r,categories:n,isLoading:l=!1}){const[o,i]=u.useState(""),[c,d]=u.useState(""),[x,h]=u.useState(""),[p,g]=u.useState(""),[f,b]=u.useState(!1),[v,w]=u.useState(!1);u.useEffect(()=>{a&&(i(a.title||""),d(a.duration||""),h(a.description||""),g(a.videoUrl||""),b(a.isPaid||!1))},[a]);return s.jsxs(s.Fragment,{children:[s.jsx(Y,{open:e,onOpenChange:t,children:s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Editar Aula"}),s.jsx(te,{className:"text-neutral-400",children:"Modifique as informações da aula."})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Título da Aula"}),s.jsx(nt,{value:o,onChange:e=>i(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Título da aula"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Duração"}),s.jsx(nt,{value:c,onChange:e=>d(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Duração (ex: 15:30)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Descrição"}),s.jsx("textarea",{value:x,onChange:e=>h(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"Descrição da aula",rows:3,required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ks,{id:"isPaid",checked:f,onCheckedChange:b,className:"bg-neutral-900 border-neutral-700 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),s.jsx("label",{htmlFor:"isPaid",className:"text-sm font-medium text-white cursor-pointer",children:"Aula Paga (Bloqueada)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Vídeo da Aula"}),s.jsxs("div",{className:"space-y-3",children:[p&&s.jsx("div",{className:"bg-neutral-900/50 rounded-lg p-3",children:s.jsx("video",{src:p,className:"w-full rounded-lg bg-black",controls:!0,style:{maxHeight:"150px"}})}),s.jsxs(X,{onClick:()=>w(!0),className:"w-full border border-neutral-700 text-white hover:bg-neutral-800",children:[s.jsx(j,{className:"h-4 w-4 mr-2"}),p?"Trocar Vídeo":"Upload de Vídeo"]})]})]})]}),s.jsxs(ce,{children:[s.jsx(X,{onClick:()=>t(!1),className:"border border-neutral-700 text-white hover:bg-neutral-800",disabled:l,children:"Cancelar"}),s.jsx(X,{onClick:async()=>{if(o.trim()&&c.trim()&&x.trim())try{await r({...a,title:o.trim(),duration:c.trim(),description:x.trim(),videoUrl:p,isPaid:f}),t(!1)}catch{}},className:"bg-green-600 hover:bg-green-700",disabled:!o.trim()||!c.trim()||!x.trim()||l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Alterações"})]})]})}),s.jsx(Ts,{isOpen:v,onOpenChange:w,onVideoSelect:e=>{g(e.url)},currentVideoUrl:p,videoPath:a&&a.id?`l${a.id}`:null})]})}function Ds({lesson:e,onEditLesson:t}){return s.jsx(X,{variant:"ghost",size:"sm",className:"text-neutral-400 hover:text-white hover:bg-neutral-700",onClick:s=>{s.stopPropagation(),t(e)},children:s.jsx(k,{className:"h-3 w-3"})})}function Os({lesson:e,onEditLesson:t}){return s.jsxs(X,{variant:"ghost",size:"sm",className:"border border-neutral-700 hover:bg-neutral-900",onClick:()=>t(e),children:[s.jsx(k,{className:"h-4 w-4 mr-2"}),"Editar Aula"]})}function Rs({category:e,isExpanded:t,onToggle:a,onSelect:r,isSelected:n,expandedCourses:l,onCourseToggle:o,onCourseSelect:i,onLessonSelect:c,selected:d,onEditLesson:u,onDeleteCategory:x,onDeleteCourse:h,onDeleteLesson:p,onEditCategory:g,onEditCourse:f,loadingCourses:b={},loadingLessons:v={}}){return s.jsxs("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/30",children:[s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between gap-3 px-3 py-3 hover:bg-neutral-800/30 transition-colors rounded-xl "+(n?"bg-neutral-800/50":""),onClick:()=>{a(e.id),r({type:"category",categoryId:e.id,courseId:null,lessonId:null})},children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-green-600/15 border border-green-500/20 shrink-0",children:s.jsx(T,{className:"h-4 w-4 text-green-400"})}),s.jsxs("div",{className:"min-w-0 text-left",children:[s.jsx("div",{className:"text-sm font-semibold text-white truncate",children:e.name}),t&&s.jsxs("div",{className:"text-xs text-neutral-400",children:[e.courses.length," curso",1!==e.courses.length?"s":""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx(X,{variant:"ghost",size:"sm",className:"text-neutral-400 hover:text-white hover:bg-neutral-700",onClick:t=>{t.stopPropagation(),g(e)},children:s.jsx(k,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",onClick:t=>{t.stopPropagation(),x(e.id)},children:s.jsx(P,{className:"h-4 w-4"})}),t?s.jsx(D,{className:"h-4 w-4 text-neutral-400"}):s.jsx(O,{className:"h-4 w-4 text-neutral-400"})]})]}),t&&s.jsx("div",{className:"px-3 pb-3 space-y-2 mt-2",children:b[e.id]?s.jsxs("div",{className:"flex items-center gap-2 py-3 px-3 rounded-lg bg-neutral-800/30 text-sm text-neutral-400",children:[s.jsx(m,{className:"h-4 w-4 animate-spin shrink-0"}),"Carregando cursos..."]}):s.jsx(s.Fragment,{children:0===e.courses.length?s.jsx("div",{className:"py-3 px-3 rounded-lg bg-neutral-900/40 border border-dashed border-neutral-700 text-xs text-neutral-400",children:"Nenhum curso cadastrado nesta categoria ainda."}):e.courses.map(t=>s.jsx(Ls,{course:t,category:e,isExpanded:l.has(t.id),onToggle:o,onSelect:i,isSelected:"course"===d.type&&d.courseId===t.id,onLessonSelect:c,selected:d,onEditLesson:u,onDeleteCourse:h,onDeleteLesson:p,onEditCourse:f,loadingLessons:v},t.id))})})]})}function Ls({course:e,category:t,isExpanded:a,onToggle:r,onSelect:n,isSelected:l,onLessonSelect:o,selected:i,onEditLesson:c,onDeleteCourse:d,onDeleteLesson:u,onEditCourse:x,loadingLessons:h={}}){return s.jsxs("div",{className:"rounded-lg border border-neutral-800 bg-neutral-950/40",children:[s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between gap-3 px-3 py-2 hover:bg-neutral-800/30 transition-colors rounded-lg "+(l?"bg-neutral-800/50":""),onClick:()=>{r(e.id),n({type:"course",categoryId:t.id,courseId:e.id,lessonId:null})},children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx(R,{className:"h-4 w-4 text-emerald-400 shrink-0"}),s.jsxs("div",{className:"min-w-0 text-left",children:[s.jsx("div",{className:"text-sm font-medium text-white truncate",children:e.title}),a&&s.jsxs("div",{className:"text-xs text-neutral-400",children:[e.lessons?.length||0," aula",1!==(e.lessons?.length||0)?"s":""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx(X,{variant:"ghost",size:"sm",className:"text-neutral-400 hover:text-white hover:bg-neutral-700",onClick:s=>{s.stopPropagation(),x(t.id,e)},children:s.jsx(k,{className:"h-3 w-3"})}),s.jsx(X,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",onClick:s=>{s.stopPropagation(),d(t.id,e.id)},children:s.jsx(P,{className:"h-3 w-3"})}),a?s.jsx(D,{className:"h-4 w-4 text-neutral-400"}):s.jsx(O,{className:"h-4 w-4 text-neutral-400"})]})]}),a&&s.jsx("div",{className:"px-3 pb-3 space-y-2 mt-2",children:h[e.id]?s.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 rounded-lg bg-neutral-800/20 text-sm text-neutral-400",children:[s.jsx(m,{className:"h-3 w-3 animate-spin shrink-0"}),"Carregando aulas..."]}):s.jsx(s.Fragment,{children:0===(e.lessons||[]).length?s.jsx("div",{className:"py-2 px-3 rounded-lg bg-neutral-900/40 border border-dashed border-neutral-700 text-xs text-neutral-400",children:"Nenhuma aula cadastrada neste curso ainda."}):(e.lessons||[]).map(a=>s.jsx(Is,{lesson:a,onSelect:o,isSelected:"lesson"===i.type&&i.lessonId===a.id,category:t,course:e,onEditLesson:c,onDeleteLesson:u},a.id))})})]})}function Is({lesson:e,onSelect:t,isSelected:a,category:r,course:n,onEditLesson:l,onDeleteLesson:o}){return s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between gap-3 px-3 py-2 rounded-lg bg-neutral-800/20 hover:bg-neutral-800/40 transition-colors "+(a?"bg-neutral-800/50":""),onClick:()=>t({type:"lesson",categoryId:r.id,courseId:n.id,lessonId:e.id}),children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 text-left",children:[s.jsx(L,{className:"h-3 w-3 text-neutral-300 shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-white truncate",children:e.title}),s.jsx("div",{className:"text-xs text-neutral-400",children:e.duration})]})]}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(Ds,{lesson:e,onEditLesson:l}),s.jsx(X,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",onClick:t=>{t.stopPropagation(),o(r.id,n.id,e.id)},children:s.jsx(P,{className:"h-3 w-3"})})]})]},e.id)}function As({selectedData:e,selected:t,onEditLesson:a,onDeleteCategory:r,onDeleteCourse:n,onDeleteLesson:l,onEditCategory:o,onEditCourse:i,lessonDialogProps:c}){return s.jsxs("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/40 p-4 space-y-4",children:[!e.category&&s.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-dashed border-neutral-700 bg-neutral-950/40 px-3 py-3 text-xs text-neutral-400",children:[s.jsx(T,{className:"h-4 w-4 text-neutral-500 shrink-0"}),s.jsx("span",{children:"Selecione uma categoria, curso ou aula na árvore ao lado."})]}),e.category&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1 flex h-7 w-7 items-center justify-center rounded-md bg-green-600/15 border border-green-500/30 shrink-0",children:s.jsx(T,{className:"h-4 w-4 text-green-400"})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-[11px] font-medium uppercase tracking-wide text-green-400/80",children:"Categoria"}),s.jsx("div",{className:"text-sm sm:text-base font-semibold text-white truncate",children:e.category.name}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-400",children:[e.category.courses.length," curso",1!==e.category.courses.length?"s":""]})]}),s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 text-neutral-300 hover:text-white hover:bg-neutral-800/80 border border-neutral-700/70",onClick:()=>{o(e.category)},children:s.jsx(k,{className:"h-3.5 w-3.5"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-400 hover:text-red-300 hover:bg-red-900/30 border border-red-600/40",onClick:()=>{r(e.category.id)},children:s.jsx(P,{className:"h-3.5 w-3.5"})})]})]})})]}),e.course&&s.jsxs("div",{className:"ml-3 pl-4 border-l border-dashed border-neutral-800/80 space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1 flex h-7 w-7 items-center justify-center rounded-md bg-emerald-500/10 border border-emerald-500/30 shrink-0",children:s.jsx(R,{className:"h-4 w-4 text-emerald-300"})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-[11px] font-medium uppercase tracking-wide text-emerald-300/80",children:"Curso"}),s.jsx("div",{className:"text-sm sm:text-base font-semibold text-white",children:e.course.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-400",children:[e.course.lessons.length," aula",1!==e.course.lessons.length?"s":""]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 shrink-0",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 text-neutral-300 hover:text-white hover:bg-neutral-800/80 border border-neutral-700/70",onClick:()=>{i(t.categoryId,e.course)},children:s.jsx(k,{className:"h-3.5 w-3.5"})}),s.jsx(us,{...c}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-400 hover:text-red-300 hover:bg-red-900/30 border border-red-600/40",onClick:()=>{n(t.categoryId,e.course.id)},children:s.jsx(P,{className:"h-3.5 w-3.5"})})]})]})})]}),e.lesson&&s.jsx("div",{className:"ml-3 pl-4 border-l border-dashed border-neutral-800/80",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1 flex h-7 w-7 items-center justify-center rounded-md bg-neutral-500/10 border border-neutral-500/40 shrink-0",children:s.jsx(L,{className:"h-4 w-4 text-neutral-200"})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-[11px] font-medium uppercase tracking-wide text-neutral-300/80",children:"Aula"}),s.jsx("div",{className:"text-sm sm:text-base font-semibold text-white",children:e.lesson.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-400",children:["Duração: ",e.lesson.duration]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 shrink-0",children:[s.jsx(Os,{lesson:e.lesson,onEditLesson:a}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-400 hover:text-red-300 hover:bg-red-900/30 border border-red-600/40",onClick:()=>{l(t.categoryId,t.courseId,e.lesson.id)},children:s.jsx(P,{className:"h-3.5 w-3.5"})})]})]})})]})})]})]})]})}function _s({query:e,onQueryChange:t,categoryDialogProps:a,courseDialogProps:r,lessonDialogProps:n}){return s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx(nt,{value:e,onChange:e=>t(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Buscar categoria, curso ou aula..."})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(cs,{...a}),s.jsx(ds,{...r}),s.jsx(us,{...n})]})]})}ys.displayName=Ns;const zs=[{id:"RX-0001",name:"Ana Souza",email:"ana.souza@example.com",role:"aluno",status:"ativo",lastAccess:"Há 2 horas"},{id:"RX-0002",name:"Bruno Lima",email:"bruno.lima@example.com",role:"aluno",status:"ativo",lastAccess:"Ontem"},{id:"RX-0003",name:"Carlos Mendes",email:"carlos.mendes@example.com",role:"admin",status:"ativo",lastAccess:"Agora mesmo"},{id:"RX-0004",name:"Debora Santos",email:"debora.santos@example.com",role:"aluno",status:"analise",lastAccess:"Há 3 dias"},{id:"RX-0005",name:"Eduardo Faria",email:"eduardo.faria@example.com",role:"aluno",status:"banido",lastAccess:"Há 1 mês"}],Ms={ativo:"Ativo",analise:"Em análise",banido:"Banido"},Fs={aluno:"Aluno",admin:"Administrador"};function qs(){const[e,t]=u.useState(""),[a,r]=u.useState("todos"),n=u.useMemo(()=>{const t=e.trim().toLowerCase();return zs.filter(e=>("todos"===a||e.status===a)&&(!t||(e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.id.toLowerCase().includes(t))))},[e,a]),l=zs.length,o=zs.filter(e=>"ativo"===e.status).length;return zs.filter(e=>"analise"===e.status).length,s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Usuários da plataforma"}),s.jsx("p",{className:"text-xs sm:text-sm text-neutral-400 max-w-xl",children:"Visão geral dos alunos e administradores da Ring0X. Use os filtros abaixo para encontrar rapidamente quem você precisa."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs sm:text-sm",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg bg-neutral-900/70 border border-neutral-800 px-3 py-2",children:[s.jsx(I,{className:"h-3.5 w-3.5 text-green-400"}),s.jsxs("span",{className:"text-neutral-300",children:[s.jsx("span",{className:"font-semibold text-white",children:o})," ","ativos"]})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg bg-neutral-900/70 border border-neutral-800 px-3 py-2",children:[s.jsx(A,{className:"h-3.5 w-3.5 text-neutral-300"}),s.jsxs("span",{className:"text-neutral-300",children:[s.jsx("span",{className:"font-semibold text-white",children:l})," ","no total"]})]})]})]}),s.jsxs(re,{className:"bg-neutral-950 border-neutral-800 text-white shadow-2xl",children:[s.jsxs(le,{className:"pb-3 space-y-3",children:[s.jsx(oe,{className:"text-base sm:text-lg font-semibold",children:"Gestão de usuários"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(nt,{value:e,onChange:e=>t(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 h-9 sm:h-10 w-full",placeholder:"Buscar por nome, email ou ID..."}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx($s,{label:"Todos",isActive:"todos"===a,onClick:()=>r("todos")}),s.jsx($s,{label:"Ativos",isActive:"ativo"===a,onClick:()=>r("ativo")}),s.jsx($s,{label:"Em análise",isActive:"analise"===a,onClick:()=>r("analise")}),s.jsx($s,{label:"Banidos",isActive:"banido"===a,onClick:()=>r("banido")})]})]})]}),s.jsx(ne,{className:"pt-0",children:s.jsxs("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/40 overflow-hidden",children:[s.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-3 px-4 py-3 text-xs font-medium text-neutral-400 border-b border-neutral-800 bg-neutral-900/70",children:[s.jsx("span",{className:"col-span-4",children:"Usuário"}),s.jsx("span",{className:"col-span-3",children:"Contato"}),s.jsx("span",{className:"col-span-2",children:"Perfil"}),s.jsx("span",{className:"col-span-2",children:"Status"}),s.jsx("span",{className:"col-span-1 text-right",children:"Último acesso"})]}),s.jsx(Ke,{className:"h-[400px] sm:h-[430px]",children:s.jsx("div",{className:"divide-y divide-neutral-800/80",children:0===n.length?s.jsx("div",{className:"px-4 py-10 text-center text-sm text-neutral-400",children:"Nenhum usuário encontrado com os filtros atuais."}):n.map(e=>s.jsx(Bs,{user:e},e.id))})})]})})]})]})}function $s({label:e,isActive:t,onClick:a}){return s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:a,className:"h-8 rounded-full border text-xs px-3 transition-colors "+(t?"border-green-500 bg-green-600/20 text-green-300":"border-neutral-700 bg-neutral-900/60 text-neutral-300 hover:bg-neutral-800/80"),children:e})}function Bs({user:e}){const t="admin"===e.role;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-4 py-3 space-y-3 md:hidden",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-neutral-800 border border-neutral-700 shrink-0",children:s.jsx(A,{className:"h-4 w-4 text-neutral-200"})}),s.jsxs("div",{className:"space-y-0.5 min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-white truncate",children:e.name}),t&&s.jsx(Tt,{className:"bg-emerald-600/20 border border-emerald-500/40 text-emerald-200 text-[10px] uppercase tracking-wide",children:"Admin"})]}),s.jsx("p",{className:"text-xs text-neutral-400",children:e.id})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-300",children:[s.jsx(_,{className:"h-3.5 w-3.5 text-neutral-400 shrink-0"}),s.jsx("span",{className:"truncate",children:e.email})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Tt,{className:"bg-neutral-800 border border-neutral-700 text-neutral-200 text-[11px]",children:Fs[e.role]||e.role}),"ativo"===e.status&&s.jsxs(Tt,{className:"bg-emerald-600/15 border border-emerald-500/40 text-emerald-200 text-[11px] inline-flex items-center gap-1",children:[s.jsx(z,{className:"h-3 w-3"}),Ms[e.status]]}),"analise"===e.status&&s.jsxs(Tt,{className:"bg-amber-500/10 border border-amber-400/40 text-amber-200 text-[11px] inline-flex items-center gap-1",children:[s.jsx(I,{className:"h-3 w-3"}),Ms[e.status]]}),"banido"===e.status&&s.jsxs(Tt,{className:"bg-red-600/10 border border-red-500/40 text-red-200 text-[11px] inline-flex items-center gap-1",children:[s.jsx(M,{className:"h-3 w-3"}),Ms[e.status]]})]}),s.jsxs("div",{className:"text-xs text-neutral-400",children:["Último acesso: ",e.lastAccess]})]})]}),s.jsxs("div",{className:"px-4 py-3 hidden md:grid md:grid-cols-12 md:items-center md:gap-3 hover:bg-neutral-900/40 transition-colors",children:[s.jsxs("div",{className:"md:col-span-4 flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5 flex h-9 w-9 items-center justify-center rounded-lg bg-neutral-800 border border-neutral-700 shrink-0",children:s.jsx(A,{className:"h-4 w-4 text-neutral-200"})}),s.jsxs("div",{className:"space-y-0.5 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-white truncate",children:e.name}),t&&s.jsx(Tt,{className:"bg-emerald-600/20 border border-emerald-500/40 text-emerald-200 text-[10px] uppercase tracking-wide",children:"Admin"})]}),s.jsx("p",{className:"text-xs text-neutral-400",children:e.id})]})]}),s.jsxs("div",{className:"md:col-span-3 flex items-center gap-2 text-xs text-neutral-300",children:[s.jsx(_,{className:"h-3.5 w-3.5 text-neutral-400 shrink-0"}),s.jsx("span",{className:"truncate",children:e.email})]}),s.jsx("div",{className:"md:col-span-2 flex items-center gap-2 text-xs",children:s.jsx(Tt,{className:"bg-neutral-800 border border-neutral-700 text-neutral-200 text-[11px]",children:Fs[e.role]||e.role})}),s.jsxs("div",{className:"md:col-span-2 flex items-center gap-2 text-xs",children:["ativo"===e.status&&s.jsxs(Tt,{className:"bg-emerald-600/15 border border-emerald-500/40 text-emerald-200 text-[11px] inline-flex items-center gap-1",children:[s.jsx(z,{className:"h-3 w-3"}),Ms[e.status]]}),"analise"===e.status&&s.jsxs(Tt,{className:"bg-amber-500/10 border border-amber-400/40 text-amber-200 text-[11px] inline-flex items-center gap-1",children:[s.jsx(I,{className:"h-3 w-3"}),Ms[e.status]]}),"banido"===e.status&&s.jsxs(Tt,{className:"bg-red-600/10 border border-red-500/40 text-red-200 text-[11px] inline-flex items-center gap-1",children:[s.jsx(M,{className:"h-3 w-3"}),Ms[e.status]]})]}),s.jsx("div",{className:"md:col-span-1 md:text-right text-xs text-neutral-400",children:e.lastAccess})]})]})}function Us({isOpen:e,onOpenChange:t,title:a,description:r,confirmText:n="Excluir",cancelText:l="Cancelar",onConfirm:o,variant:i="destructive"}){const[c,d]=u.useState(!1);return s.jsx(Y,{open:e,onOpenChange:t,children:s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white max-w-md",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full "+("destructive"===i?"bg-red-600/20 text-red-400":"bg-blue-600/20 text-blue-400"),children:s.jsx(F,{className:"h-5 w-5"})}),s.jsx(ee,{className:"text-lg font-semibold",children:a})]})}),s.jsx(te,{className:"text-neutral-300",children:r}),s.jsxs(ce,{className:"gap-2",children:[s.jsx(X,{onClick:()=>t(!1),disabled:c,className:"border border-neutral-700 text-white hover:bg-neutral-800",children:l}),s.jsx(X,{variant:i,onClick:async()=>{d(!0);try{await o(),t(!1)}finally{d(!1)}},disabled:c,className:"destructive"===i?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white",children:c?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"h-4 w-4 animate-spin"}),"Excluindo..."]}):n})]})]})})}function Hs({isOpen:e,onOpenChange:t,categoryName:a,onCategoryNameChange:r,categoryDescription:n,onCategoryDescriptionChange:l,onUpdateCategory:o,isLoading:i=!1}){return s.jsx(Y,{open:e,onOpenChange:t,children:s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-600/20 text-blue-400",children:s.jsx(k,{className:"h-5 w-5"})}),s.jsx(ee,{children:"Editar Categoria"})]}),s.jsx(te,{className:"text-neutral-400",children:"Altere o nome da categoria. Esta ação será aplicada imediatamente."})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsx(nt,{value:a,onChange:e=>r(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Nome da categoria",onKeyDown:e=>{"Enter"===e.key&&a.trim()&&o()},disabled:i}),s.jsx("textarea",{value:n,onChange:e=>l(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"Descrição da categoria",rows:3,disabled:i,required:!0})]}),s.jsxs(ce,{children:[s.jsx(X,{onClick:()=>t(!1),disabled:i,className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),s.jsx(X,{onClick:o,disabled:!a.trim()||!n.trim()||i,className:"bg-blue-600 hover:bg-blue-700",children:i?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Alterações"})]})]})})}function Ws({isOpen:e,onOpenChange:t,courseTitle:a,onCourseTitleChange:r,courseDescription:n,onCourseDescriptionChange:l,onUpdateCourse:o,categoryName:i,isLoading:c=!1}){return s.jsx(Y,{open:e,onOpenChange:t,children:s.jsxs(Q,{className:"bg-neutral-950 border-neutral-800 text-white",children:[s.jsxs(Z,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-600/20 text-blue-400",children:s.jsx(k,{className:"h-5 w-5"})}),s.jsx(ee,{children:"Editar Curso"})]}),s.jsx(te,{className:"text-neutral-400",children:i?`Alterando o título do curso na categoria: ${i}`:"Alterando o título do curso."})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsx(nt,{value:a,onChange:e=>r(e.target.value),className:"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500",placeholder:"Título do curso",onKeyDown:e=>{"Enter"===e.key&&a.trim()&&o()},disabled:c}),s.jsx("textarea",{value:n,onChange:e=>l(e.target.value),className:"w-full bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500 rounded-md px-3 py-2 text-sm resize-none h-20 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"Descrição do curso",rows:3,disabled:c,required:!0})]}),s.jsxs(ce,{children:[s.jsx(X,{onClick:()=>t(!1),disabled:c,className:"border border-neutral-700 text-white hover:bg-neutral-800",children:"Cancelar"}),s.jsx(X,{onClick:o,disabled:!a.trim()||!n.trim()||c,className:"bg-blue-600 hover:bg-blue-700",children:c?s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Alterações"})]})]})})}function Vs(){const[e,t]=u.useState("courses"),[a,r]=u.useState(new Set),[n,l]=u.useState(new Set),[o,i]=u.useState({type:"category",categoryId:null,courseId:null,lessonId:null}),[c,d]=u.useState(""),[x,h]=u.useState(!1),[p,g]=u.useState(""),[f,b]=u.useState(""),[v,j]=u.useState(!1),[w,N]=u.useState(""),[y,C]=u.useState(""),[S,E]=u.useState(!1),[k,T]=u.useState(""),[P,D]=u.useState(""),[O,R]=u.useState(""),[L,I]=u.useState(null),[A,_]=u.useState(!1),[z,M]=u.useState([]),[F,q]=u.useState(!0),[$,B]=u.useState(null),[U,H]=u.useState({}),[W,V]=u.useState({}),[X,G]=u.useState({}),[J,Y]=u.useState({}),[K,Q]=u.useState(null),[Z,ee]=u.useState(!1),[te,se]=u.useState(""),[ae,ie]=u.useState(""),[ce,de]=u.useState(null),[ue,me]=u.useState(!1),[xe,he]=u.useState(""),[pe,ge]=u.useState(""),[fe,be]=u.useState(!1),[ve,je]=u.useState(!1),[we,Ne]=u.useState(!1),[ye,Ce]=u.useState(!1),[Se,Ee]=u.useState(!1),[ke,Te]=u.useState(!1),{showConfirmDialog:Pe,ConfirmDialogComponent:De}=function(){const[e,t]=u.useState({isOpen:!1,title:"",description:"",onConfirm:null,confirmText:"Excluir",cancelText:"Cancelar",variant:"destructive"}),a=()=>{t(e=>({...e,isOpen:!1}))};return{showConfirmDialog:e=>{t({isOpen:!0,title:e.title||"Confirmar exclusão",description:e.description||"Tem certeza que deseja continuar?",onConfirm:e.onConfirm||(()=>{}),confirmText:e.confirmText||"Excluir",cancelText:e.cancelText||"Cancelar",variant:e.variant||"destructive"})},hideDialog:a,ConfirmDialogComponent:()=>s.jsx(Us,{isOpen:e.isOpen,onOpenChange:a,title:e.title,description:e.description,confirmText:e.confirmText,cancelText:e.cancelText,onConfirm:e.onConfirm,variant:e.variant})}}();u.useEffect(()=>{(async()=>{try{q(!0);const e=await Jt();M(e?.Result?.categories||[]),B(null)}catch(e){B(e.message),console.error("Erro ao buscar categorias:",e),M([])}finally{q(!1)}})()},[]);const Oe=async e=>{const t=new Set(a);if(!t.has(e)){if(t.add(e),r(t),!W[e])try{H(t=>({...t,[e]:!0}));const t=await ns(e),s=t?.Result?.courses||[];V(t=>({...t,[e]:s}))}catch(s){console.error("Erro ao buscar cursos:",s)}finally{H(t=>({...t,[e]:!1}))}}else t.delete(e),r(t)},Re=async e=>{const t=new Set(n);if(!t.has(e)){if(t.add(e),l(t),!J[e])try{G(t=>({...t,[e]:!0}));const t=await ls(e),s=t?.Result?.lessons||[];Y(t=>({...t,[e]:s}))}catch(s){console.error("Erro ao buscar aulas:",s)}finally{G(t=>({...t,[e]:!1}))}}else t.delete(e),l(t)},Le=u.useMemo(()=>{const e=c.trim().toLowerCase();return e?z.map(t=>{const s=(W[t.id]||[]).map(e=>({...e,lessons:J[e.id]||[]})),a=t.name.toLowerCase().includes(e),r=s.map(t=>{const s=t.title.toLowerCase().includes(e),a=t.lessons.filter(t=>t.title.toLowerCase().includes(e));return s?t:a.length>0?{...t,lessons:a}:null}).filter(Boolean);return a?{...t,courses:s}:r.length>0?{...t,courses:r}:null}).filter(Boolean):z.map(e=>({...e,courses:(W[e.id]||[]).map(e=>({...e,lessons:J[e.id]||[]}))}))},[c,z,W,J]),Ie=u.useMemo(()=>{if("category"===o.type){return{category:z.find(e=>e.id===o.categoryId)||null,course:null,lesson:null}}if("course"===o.type){return{category:z.find(e=>e.id===o.categoryId)||null,course:(W[o.categoryId]||[]).map(e=>({...e,lessons:J[e.id]||[]})).find(e=>e.id===o.courseId)||null,lesson:null}}if("lesson"===o.type){const e=z.find(e=>e.id===o.categoryId)||null,t=(W[o.categoryId]||[]).map(e=>({...e,lessons:J[e.id]||[]})).find(e=>e.id===o.courseId)||null,s=t?.lessons?.find(e=>e.id===o.lessonId)||null;return{category:e,course:t,lesson:s}}return{category:null,course:null,lesson:null}},[o,z,W,J]),Ae=e=>{I(e),_(!0)},_e=e=>{Q(e),se(e.name||""),ie(e.description||""),ee(!0)},ze=(e,t)=>{z.find(t=>t.id===e),de({...t,categoryId:e}),he(t.title||""),ge(t.description||""),me(!0)},Me=e=>{const t=z.find(t=>t.id===e);Pe({title:"Excluir Categoria",description:`Tem certeza que deseja excluir a categoria "${t?.name}" e todo o seu conteúdo? Esta ação não pode ser desfeita.`,confirmText:"Excluir Categoria",onConfirm:async()=>{try{await Qt(e);const t=await Jt();M(t?.Result?.categories||[]),"category"===o.type&&o.categoryId===e&&i({type:"category",categoryId:null,courseId:null,lessonId:null})}catch(t){console.error("Erro ao excluir categoria:",t)}}})},Fe=(e,t)=>{z.find(t=>t.id===e);const s=W[e]?.find(e=>e.id===t);Pe({title:"Excluir Curso",description:`Tem certeza que deseja excluir o curso "${s?.title}" e todas as suas aulas? Esta ação não pode ser desfeita.`,confirmText:"Excluir Curso",onConfirm:async()=>{try{await ts(t);const s=await ns(e),a=s?.Result?.courses||[];V(t=>({...t,[e]:a})),"course"===o.type&&o.courseId===t&&i({type:"category",categoryId:null,courseId:null,lessonId:null})}catch(s){console.error("Erro ao excluir curso:",s)}}})},qe=(e,t,s)=>{z.find(t=>t.id===e),W[e]?.find(e=>e.id===t);const a=J[t]?.find(e=>e.id===s);Pe({title:"Excluir Aula",description:`Tem certeza que deseja excluir a aula "${a?.title}"? Esta ação não pode ser desfeita.`,confirmText:"Excluir Aula",onConfirm:async()=>{try{await rs(s);const a=await ls(t),r=a?.Result?.lessons||[];Y(e=>({...e,[t]:r})),"lesson"===o.type&&o.lessonId===s&&i({type:"course",categoryId:e,courseId:t,lessonId:null})}catch(a){console.error("Erro ao excluir aula:",a)}}})},$e={isOpen:x,onOpenChange:h,categoryName:p,onCategoryNameChange:g,categoryDescription:f,onCategoryDescriptionChange:b,onCreateCategory:async()=>{if(p.trim()&&f.trim())try{be(!0),await Yt(p.trim(),f.trim());const e=await Jt();M(e?.Result?.categories||[]),g(""),b(""),h(!1)}catch(e){console.error("Erro ao criar categoria:",e)}finally{be(!1)}},isLoading:fe},Be={isOpen:v,onOpenChange:j,courseTitle:w,onCourseTitleChange:N,courseDescription:y,onCourseDescriptionChange:C,onCreateCourse:async()=>{if(w.trim()&&y.trim()&&o.categoryId)try{je(!0),await Zt(o.categoryId,w.trim(),y.trim());const e=await ns(o.categoryId),t=e?.Result?.courses||[];V(e=>({...e,[o.categoryId]:t})),N(""),C(""),j(!1),r(new Set([...a,o.categoryId]))}catch(e){console.error("Erro ao criar curso:",e)}finally{je(!1)}},selectedCategoryId:o.categoryId,categories:z,isLoading:ve},Ue={isOpen:S,onOpenChange:E,lessonTitle:k,onLessonTitleChange:T,lessonDuration:P,onLessonDurationChange:D,lessonDescription:O,onLessonDescriptionChange:R,onCreateLesson:async()=>{if(k.trim()&&P.trim()&&O.trim()&&o.categoryId&&o.courseId)try{Ne(!0),await ss(o.courseId,k.trim(),P.trim(),O.trim());const e=await ls(o.courseId),t=e?.Result?.lessons||[];Y(e=>({...e,[o.courseId]:t})),T(""),D(""),R(""),E(!1),r(new Set([...a,o.categoryId])),l(new Set([...n,o.courseId]))}catch(e){console.error("Erro ao criar aula:",e)}finally{Ne(!1)}},selectedCategoryId:o.categoryId,selectedCourseId:o.courseId,categories:z,isLoading:we};return s.jsxs("div",{className:"w-full space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-1 rounded-xl bg-neutral-950 border border-neutral-800 p-1 w-full sm:w-auto",children:[s.jsx(Xs,{label:"Conteúdo",description:"Categorias, cursos e aulas",isActive:"courses"===e,onClick:()=>t("courses")}),s.jsx(Xs,{label:"Usuários",description:"Alunos e administradores",isActive:"users"===e,onClick:()=>t("users")})]}),"courses"===e&&s.jsxs(s.Fragment,{children:[s.jsx(_s,{query:c,onQueryChange:d,categoryDialogProps:$e,courseDialogProps:Be,lessonDialogProps:Ue}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-4",children:[s.jsxs(re,{className:"xl:col-span-2 lg:col-span-1 bg-neutral-950 border-neutral-800 text-white shadow-2xl",children:[s.jsxs(le,{className:"pb-4",children:[s.jsx(oe,{className:"text-lg font-semibold",children:"Estrutura"}),s.jsx("p",{className:"text-sm text-neutral-400",children:"Categoria → Curso → Aula"})]}),s.jsxs(ne,{className:"space-y-3",children:[F&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-400 py-4",children:[s.jsx(m,{className:"h-4 w-4 animate-spin shrink-0"}),"Carregando categorias..."]}),$&&s.jsxs("div",{className:"text-sm text-red-400",children:["Erro: ",$]}),!F&&!$&&0===Le.length&&s.jsx("div",{className:"text-sm text-neutral-400",children:"Nenhuma categoria encontrada."}),!F&&!$&&Le.map(e=>s.jsx(Rs,{category:e,isExpanded:a.has(e.id),onToggle:Oe,onSelect:i,isSelected:"category"===o.type&&o.categoryId===e.id,expandedCourses:n,onCourseToggle:Re,onCourseSelect:i,onLessonSelect:i,selected:o,onEditLesson:Ae,onDeleteCategory:Me,onDeleteCourse:Fe,onDeleteLesson:qe,onEditCategory:_e,onEditCourse:ze,loadingCourses:U,loadingLessons:X},e.id))]})]}),s.jsx(re,{className:"hidden xl:block xl:col-span-3 bg-neutral-950 border-neutral-800 text-white shadow-2xl",children:s.jsx(ne,{className:"pt-4",children:s.jsx(As,{selectedData:Ie,selected:o,onEditLesson:Ae,onDeleteCategory:Me,onDeleteCourse:Fe,onDeleteLesson:qe,onEditCategory:_e,onEditCourse:ze,lessonDialogProps:Ue})})})]})]}),"users"===e&&s.jsx(qs,{}),s.jsx(Ps,{isOpen:A,onOpenChange:e=>{_(e),e||I(null)},lesson:L,onSaveLesson:async e=>{try{Te(!0),await as(e.id,e.title,e.duration,e.description,e.isPaid);const t=await ls(o.courseId),s=t?.Result?.lessons||[];Y(e=>({...e,[o.courseId]:s})),I(null)}catch(t){console.error("Erro ao atualizar aula:",t)}finally{Te(!1)}},categories:z,isLoading:ke}),s.jsx(Hs,{isOpen:Z,onOpenChange:ee,categoryName:te,onCategoryNameChange:se,categoryDescription:ae,onCategoryDescriptionChange:ie,onUpdateCategory:async()=>{if(K&&te.trim()&&ae.trim())try{Ce(!0),await Kt(K.id,te.trim(),ae.trim());const e=await Jt();M(e?.Result?.categories||[]),ee(!1),Q(null),se(""),ie("")}catch(e){console.error("Erro ao atualizar categoria:",e)}finally{Ce(!1)}},isLoading:ye}),s.jsx(Ws,{isOpen:ue,onOpenChange:me,courseTitle:xe,onCourseTitleChange:he,courseDescription:pe,onCourseDescriptionChange:ge,onUpdateCourse:async()=>{if(ce&&xe.trim()&&pe.trim())try{Ee(!0),await es(ce.id,xe.trim(),pe.trim());const e=await ns(ce.categoryId),t=e?.Result?.courses||[];V(e=>({...e,[ce.categoryId]:t})),me(!1),de(null),he(""),ge("")}catch(e){console.error("Erro ao atualizar curso:",e)}finally{Ee(!1)}},categoryName:ce?z.find(e=>e.id===ce.categoryId)?.name:"",isLoading:Se}),s.jsx(De,{})]})}function Xs({label:e,description:t,isActive:a,onClick:r}){return s.jsxs("button",{type:"button",onClick:r,className:"flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg text-left transition-colors "+(a?"bg-green-600/15 border border-green-500/40 shadow-[0_0_0_1px_rgba(22,163,74,0.4)]":"border border-transparent hover:border-neutral-700 hover:bg-neutral-900/70"),children:[s.jsx("div",{className:"text-xs font-semibold tracking-wide uppercase text-neutral-400",children:e}),s.jsx("div",{className:"text-[11px] text-neutral-500",children:t})]})}function Gs({open:e,onOpenChange:t}){return s.jsx(Y,{open:e,onOpenChange:t,children:s.jsxs(Q,{"data-dashboard-dialog":!0,className:"bg-neutral-950 border-neutral-800 text-white !w-[85vw] !h-[85vh] !max-w-none !max-h-none !m-0 !rounded-lg !p-0 !top-[50%] !left-[50%] !translate-x-[-50%] !translate-y-[-50%] !flex !flex-col !gap-0 !overflow-hidden",children:[s.jsxs(Z,{className:"px-4 sm:px-6 py-4 border-b border-neutral-800 shrink-0",children:[s.jsx(ee,{className:"text-xl sm:text-2xl font-bold text-white",children:"Dashboard Administrativo"}),s.jsx(te,{className:"text-neutral-400",children:"Gerencie categorias, cursos, aulas e usuários da plataforma"})]}),s.jsx("div",{"data-dashboard-scroll":!0,className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden scrollbar-hide px-4 sm:px-6 py-4",children:s.jsx(Vs,{})})]})})}function Js({isOpen:e,setIsOpen:t}){const a=J(),[r,n]=u.useState("home"),[l,o]=u.useState(!1),[i,c]=u.useState(""),[d,m]=u.useState(!1),[h,p]=u.useState(!1);u.useEffect(()=>{const e=()=>{const e=ue();if(o(e),e){const e=me(),t=xe();c(e||""),m(t)}else c(""),m(!1)};e();const t=setInterval(e,3e4),s=()=>{e()};return window.addEventListener("login-success",s),()=>{clearInterval(t),window.removeEventListener("login-success",s)}},[]);const g=!a||e;return s.jsxs(s.Fragment,{children:[a&&e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>t(!1)}),s.jsx("aside",{className:`\n          fixed lg:relative z-50\n          flex h-dvh w-80 flex-col bg-neutral-950 text-white\n          transition-transform duration-300 ease-in-out\n          ${g?"translate-x-0":"-translate-x-full"}\n        `,children:s.jsxs("div",{className:"relative m-4 flex h-[calc(100%-2rem)] flex-col overflow-hidden rounded-r-2xl rounded-l-none border border-neutral-800 bg-neutral-950 shadow-2xl shadow-black/70",children:[!a&&s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-px bg-linear-to-b from-green-500/70 to-emerald-400/40"}),s.jsxs("div",{className:"flex items-center justify-between px-5 pt-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:de,alt:"Ring0X Logo",className:"h-11 w-11 rounded-lg object-cover"}),s.jsx("span",{className:"text-xl font-semibold tracking-wide text-green-400",children:"RING0X"})]}),a&&s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t(!1),className:"text-neutral-400 hover:bg-neutral-800 hover:text-white",children:s.jsx(y,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"px-5 pt-4",children:s.jsx(rt,{className:"bg-white/10"})}),s.jsx(Ke,{className:"flex-1 min-h-0 px-3 py-3 flex flex-col",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs(X,{variant:"ghost",className:"group relative h-14 w-full justify-start gap-3 rounded-lg px-4 text-base text-white hover:bg-neutral-800 "+("home"===r?"bg-neutral-800":""),onClick:()=>{n("home");const e=document.querySelector("main");e&&e.scrollTo({top:0,behavior:"smooth"}),a&&t(!1)},children:[s.jsx("span",{className:"absolute left-0 top-1/2 h-10 w-1 -translate-y-1/2 rounded-r-full "+("home"===r?"bg-green-500":"bg-transparent")}),s.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-lg "+("home"===r?"bg-green-500/20 text-green-400":"bg-neutral-800 text-neutral-400 group-hover:text-white"),children:s.jsx(q,{className:"h-5 w-5"})}),s.jsx("span",{className:"font-medium",children:"Home"})]}),s.jsx("div",{className:"px-4",children:s.jsx(rt,{className:"bg-white/10"})}),l&&s.jsx(Xt,{children:s.jsxs(X,{variant:"ghost",className:"group relative h-14 w-full justify-start gap-3 rounded-lg px-4 text-base text-white hover:bg-neutral-800 "+("meus-cursos"===r?"bg-neutral-800":""),onClick:()=>n("meus-cursos"),children:[s.jsx("span",{className:"absolute left-0 top-1/2 h-10 w-1 -translate-y-1/2 rounded-r-full "+("meus-cursos"===r?"bg-green-500":"bg-transparent")}),s.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-lg "+("meus-cursos"===r?"bg-green-500/20 text-green-400":"bg-neutral-800 text-neutral-400 group-hover:text-white"),children:s.jsx($,{className:"h-5 w-5"})}),s.jsx("span",{className:"font-medium",children:"Meus Cursos"})]})}),l&&s.jsx("div",{className:"px-4",children:s.jsx(rt,{className:"bg-white/10"})}),d&&s.jsxs(s.Fragment,{children:[s.jsxs(X,{variant:"ghost",className:"group relative h-14 w-full justify-start gap-3 rounded-lg px-4 text-base text-white hover:bg-neutral-800 "+("dashboard"===r?"bg-neutral-800":""),onClick:()=>{n("dashboard"),p(!0)},children:[s.jsx("span",{className:"absolute left-0 top-1/2 h-10 w-1 -translate-y-1/2 rounded-r-full "+("dashboard"===r?"bg-green-500":"bg-transparent")}),s.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-lg "+("dashboard"===r?"bg-green-500/20 text-green-400":"bg-neutral-800 text-neutral-400 group-hover:text-white"),children:s.jsx(B,{className:"h-5 w-5"})}),s.jsx("span",{className:"font-medium",children:"Dashboard"})]}),s.jsx(Gs,{open:h,onOpenChange:p})]}),d&&s.jsx("div",{className:"px-4",children:s.jsx(rt,{className:"bg-white/10"})}),s.jsxs(X,{variant:"ghost",className:"group relative h-14 w-full justify-start gap-3 rounded-lg px-4 text-base font-medium text-white hover:bg-neutral-800 "+("cursos"===r?"bg-neutral-800":""),onClick:()=>{n("cursos"),setTimeout(()=>{let e=document.querySelector("[data-cursos-card]");e||(e=Array.from(document.querySelectorAll("h1, h2, h3")).find(e=>e.textContent.includes("Cursos"))?.closest('.card, [class*="Card"]')),e||(e=Array.from(document.querySelectorAll("*")).find(e=>e.textContent.includes("Cursos")&&e.classList.contains("bg-neutral-950"))),e&&e.scrollIntoView({behavior:"smooth",block:"start"}),a&&t(!1)},a?300:0)},children:[s.jsx("span",{className:"absolute left-0 top-1/2 h-10 w-1 -translate-y-1/2 rounded-r-full "+("cursos"===r?"bg-green-500":"bg-transparent")}),s.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-lg "+("cursos"===r?"bg-green-500/20 text-green-400":"bg-neutral-800 text-neutral-400 group-hover:text-white"),children:s.jsx(x,{className:"h-5 w-5"})}),s.jsx("span",{className:"font-medium",children:"Cursos"})]})]})}),s.jsx("div",{className:"px-5 pb-4",children:s.jsx(rt,{className:"bg-white/10"})}),s.jsx("div",{className:"flex flex-col gap-3 px-5 pb-5 shrink-0",children:l?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-800/50 rounded-lg",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-green-600/20",children:s.jsx(A,{className:"h-4 w-4 text-green-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-white truncate",children:i}),s.jsx("div",{className:"text-xs text-neutral-400",children:"Logado"})]})]}),s.jsxs(X,{onClick:()=>{he(),o(!1),c(""),m(!1),n("home")},className:"w-full bg-red-600/20 border border-red-600/30 text-red-400 hover:bg-red-600/30 hover:text-red-300",children:[s.jsx(U,{className:"h-4 w-4 mr-2"}),"Sair"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(ct,{}),s.jsx(dt,{}),s.jsx("div",{className:"hidden",children:s.jsx(Et,{})})]})})]})})]})}export{Js as default};
