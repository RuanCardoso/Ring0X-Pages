import{c as e,B as t,_ as r}from"./index-BqCr6hmx.js";import{k as s,j as n,i as a,P as o,f as i,a as l}from"./radix-vendor-BIyOuZtd.js";import{a as c,X as d,P as u,_ as m,$ as h,a0 as x,L as f,a1 as p,a2 as v,a3 as g,a4 as w,i as b,B as j}from"./utils-BjmGsu4H.js";import{u as N,P as y,B as S}from"./progress-ahxjkfgh.js";import{h as E,D as P,a as C,b as k,c as R,d as A,f as D,S as M}from"./dialog-nXkc36KQ.js";import{u as _,d as L,a as z,b as T}from"./logo-DqzHjzHr.js";import{u as I}from"./index-DrsxgqmJ.js";import{c as B,a as O}from"./home-B8Sh08TQ.js";import"./react-vendor-BSc6ZMjT.js";var U=["PageUp","PageDown"],$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],H={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},K="Slider",[V,q,F]=B(K),[X]=l(K,[F]),[J,Y]=X(K),W=c.forwardRef((e,t)=>{const{name:r,min:o=0,max:i=100,step:l=1,orientation:d="horizontal",disabled:u=!1,minStepsBetweenThumbs:m=0,defaultValue:h=[o],value:x,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:v=!1,form:g,...w}=e,b=c.useRef(new Set),j=c.useRef(0),N="horizontal"===d?Z:ee,[y=[],S]=s({prop:x,defaultProp:h,onChange:e=>{const t=[...b.current];t[j.current]?.focus(),f(e)}}),P=c.useRef(y);function C(e,t,{commit:r}={commit:!1}){const s=function(e){return(String(e).split(".")[1]||"").length}(l),n=function(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-o)/l)*l+o,s),a=E(n,[o,i]);S((e=[])=>{const s=function(e=[],t,r){const s=[...e];return s[r]=t,s.sort((e,t)=>e-t)}(e,a,t);if(function(e,t){if(t>0){const r=function(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}(e);return Math.min(...r)>=t}return!0}(s,m*l)){j.current=s.indexOf(a);const t=String(s)!==String(e);return t&&r&&p(s),t?s:e}return e})}return n.jsx(J,{scope:e.__scopeSlider,name:r,disabled:u,min:o,max:i,valueIndexToChangeRef:j,thumbs:b.current,values:y,orientation:d,form:g,children:n.jsx(V.Provider,{scope:e.__scopeSlider,children:n.jsx(V.Slot,{scope:e.__scopeSlider,children:n.jsx(N,{"aria-disabled":u,"data-disabled":u?"":void 0,...w,ref:t,onPointerDown:a(w.onPointerDown,()=>{u||(P.current=y)}),min:o,max:i,inverted:v,onSlideStart:u?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const r=e.map(e=>Math.abs(e-t)),s=Math.min(...r);return r.indexOf(s)}(y,e);C(e,t)},onSlideMove:u?void 0:function(e){C(e,j.current)},onSlideEnd:u?void 0:function(){const e=P.current[j.current];y[j.current]!==e&&p(y)},onHomeKeyDown:()=>!u&&C(o,0,{commit:!0}),onEndKeyDown:()=>!u&&C(i,y.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!u){const r=U.includes(e.key)||e.shiftKey&&$.includes(e.key)?10:1,s=j.current;C(y[s]+l*r*t,s,{commit:!0})}}})})})})});W.displayName=K;var[G,Q]=X(K,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Z=c.forwardRef((e,t)=>{const{min:r,max:s,dir:a,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:m,...h}=e,[x,f]=c.useState(null),p=i(t,e=>f(e)),v=c.useRef(void 0),g=_(a),w="ltr"===g,b=w&&!o||!w&&o;function j(e){const t=v.current||x.getBoundingClientRect(),n=ue([0,t.width],b?[r,s]:[s,r]);return v.current=t,n(e-t.left)}return n.jsx(G,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:n.jsx(te,{dir:g,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=j(e.clientX);l?.(t)},onSlideMove:e=>{const t=j(e.clientX);d?.(t)},onSlideEnd:()=>{v.current=void 0,u?.()},onStepKeyDown:e=>{const t=H[b?"from-left":"from-right"].includes(e.key);m?.({event:e,direction:t?-1:1})}})})}),ee=c.forwardRef((e,t)=>{const{min:r,max:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...m}=e,h=c.useRef(null),x=i(t,h),f=c.useRef(void 0),p=!a;function v(e){const t=f.current||h.current.getBoundingClientRect(),n=ue([0,t.height],p?[s,r]:[r,s]);return f.current=t,n(e-t.top)}return n.jsx(G,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:n.jsx(te,{"data-orientation":"vertical",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=v(e.clientY);o?.(t)},onSlideMove:e=>{const t=v(e.clientY);l?.(t)},onSlideEnd:()=>{f.current=void 0,d?.()},onStepKeyDown:e=>{const t=H[p?"from-bottom":"from-top"].includes(e.key);u?.({event:e,direction:t?-1:1})}})})}),te=c.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:u,...m}=e,h=Y(K,r);return n.jsx(o.span,{...m,ref:t,onKeyDown:a(e.onKeyDown,e=>{"Home"===e.key?(c(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):U.concat($).includes(e.key)&&(u(e),e.preventDefault())}),onPointerDown:a(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():s(e)}),onPointerMove:a(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:a(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),l(e))})})}),re="SliderTrack",se=c.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=Y(re,r);return n.jsx(o.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:t})});se.displayName=re;var ne="SliderRange",ae=c.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=Y(ne,r),l=Q(ne,r),d=c.useRef(null),u=i(t,d),m=a.values.length,h=a.values.map(e=>de(e,a.min,a.max)),x=m>1?Math.min(...h):0,f=100-Math.max(...h);return n.jsx(o.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:u,style:{...e.style,[l.startEdge]:x+"%",[l.endEdge]:f+"%"}})});ae.displayName=ne;var oe="SliderThumb",ie=c.forwardRef((e,t)=>{const r=q(e.__scopeSlider),[s,a]=c.useState(null),o=i(t,e=>a(e)),l=c.useMemo(()=>s?r().findIndex(e=>e.ref.current===s):-1,[r,s]);return n.jsx(le,{...e,ref:o,index:l})}),le=c.forwardRef((e,t)=>{const{__scopeSlider:r,index:s,name:l,...d}=e,u=Y(oe,r),m=Q(oe,r),[h,x]=c.useState(null),f=i(t,e=>x(e)),p=!h||(u.form||!!h.closest("form")),v=N(h),g=u.values[s],w=void 0===g?0:de(g,u.min,u.max),b=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(s,u.values.length),j=v?.[m.size],y=j?function(e,t,r){const s=e/2,n=ue([0,50],[0,s]);return(s-n(t)*r)*r}(j,w,m.direction):0;return c.useEffect(()=>{if(h)return u.thumbs.add(h),()=>{u.thumbs.delete(h)}},[h,u.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${w}% + ${y}px)`},children:[n.jsx(V.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(o.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":u.min,"aria-valuenow":g,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...d,ref:f,style:void 0===g?{display:"none"}:e.style,onFocus:a(e.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),p&&n.jsx(ce,{name:l??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:g},s)]})});ie.displayName=oe;var ce=c.forwardRef(({__scopeSlider:e,value:t,...r},s)=>{const a=c.useRef(null),l=i(a,s),d=I(t);return c.useEffect(()=>{const e=a.current;if(!e)return;const r=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(r,"value").set;if(d!==t&&s){const r=new Event("input",{bubbles:!0});s.call(e,t),e.dispatchEvent(r)}},[d,t]),n.jsx(o.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});function de(e,t,r){return E(100/(r-t)*(e-t),[0,100])}function ue(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}ce.displayName="RadioBubbleInput";var me=W,he=se,xe=ae,fe=ie;function pe({className:t,defaultValue:r,value:s,min:a=0,max:o=100,...i}){const l=c.useMemo(()=>Array.isArray(s)?s:Array.isArray(r)?r:[a,o],[s,r,a,o]);return n.jsxs(me,{"data-slot":"slider",defaultValue:r,value:s,min:a,max:o,className:e("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[n.jsx(he,{"data-slot":"slider-track",className:e("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:n.jsx(xe,{"data-slot":"slider-range",className:e("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(e,t)=>n.jsx(fe,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}function ve({courseTitle:e,courseId:s,children:a,open:o,onOpenChange:i}){const[l,N]=c.useState(!1),E=void 0!==o?o:l,_=i||N,[I,B]=c.useState(!1),[U,$]=c.useState(0),[H,K]=c.useState(0),[V,q]=c.useState(0),[F,X]=c.useState(0),[J,Y]=c.useState(0),[W,G]=c.useState(null),[Q,Z]=c.useState([]),[ee,te]=c.useState(!1),[re,se]=c.useState(null),[ne,ae]=c.useState(!1),[oe,ie]=c.useState(null),[le,ce]=c.useState(!1),de=c.useRef(null),ue=c.useRef(null),me=c.useRef(null);c.useEffect(()=>{E||(K(0),de.current&&(de.current.volume=0,de.current.muted=!0))},[E]);const he=c.useCallback((e,t)=>{const r=document.createElement("canvas");r.width=320,r.height=180;const s=r.getContext("2d"),n=s.createLinearGradient(0,0,320,180);n.addColorStop(0,"#059669"),n.addColorStop(1,"#047857"),s.fillStyle=n,s.fillRect(0,0,320,180),s.fillStyle="white",s.font="bold 24px sans-serif",s.textAlign="center",s.textBaseline="middle";const a=e.split(" ");let o="",i=90;for(let l=0;l<a.length;l++){const e=o+a[l]+" ";s.measureText(e).width>280&&l>0?(s.fillText(o,160,i),o=a[l]+" ",i+=30):o=e}return s.fillText(o,160,i),r.toDataURL()},[]),xe=c.useMemo(()=>[{id:"l1",title:"Introdução ao Curso",duration:"12:45",description:"Conceitos fundamentais e estrutura do curso",thumbnail:he("Introdução ao Curso",0),isPaid:!1},{id:"l2",title:"Configuração do Ambiente",duration:"18:30",description:"Setup das ferramentas e ambiente de desenvolvimento",thumbnail:he("Configuração do Ambiente",1),isPaid:!1},{id:"l3",title:"Primeiros Passos Práticos",duration:"25:15",description:"Exercícios práticos iniciais",thumbnail:he("Primeiros Passos Práticos",2),isPaid:!0},{id:"l4",title:"Técnicas Avançadas",duration:"32:20",description:"Conceitos avançados e aplicações",thumbnail:he("Técnicas Avançadas",3),isPaid:!0}],[]);c.useEffect(()=>{if(E&&s){(async()=>{try{te(!0),se(null);const e=await O.getLessonsByCourse(s),t=(e?.Result?.lessons||[]).map(e=>({id:`l${e.id}`,title:e.title,duration:e.duration,description:e.description||"Aula prática do curso",thumbnail:`https://images.unsplash.com/photo-${Math.floor(1e9*Math.random())}?w=800&h=450&fit=crop`,isPaid:e.isPaid||!1}));Z(t)}catch(e){se(e.message),Z([])}finally{te(!1)}})()}},[E,s]);const fe=c.useMemo(()=>[...Q.length>0?Q:xe].sort((e,t)=>(e.isPaid?1:0)-(t.isPaid?1:0)),[Q,xe]);c.useEffect(()=>{E&&Q.length>0&&($(0),B(!1),ie(null),q(0),Y(0),G(null),ae(!1),K(0),de.current&&(de.current.volume=0,de.current.muted=!0))},[Q,E]),c.useEffect(()=>{if(E&&fe[U]){const e=fe[U];if(e.isPaid)return ae(!1),void ie(null);const t=e.id;ve(t)}return()=>{ue.current&&(ue.current.destroy(),ue.current=null),de.current&&(de.current.src="",de.current.volume=0,de.current.muted=!0),K(0)}},[E,U,fe]);const ve=async e=>{if(de.current)try{ae(!0),ie(null),ue.current&&(ue.current.destroy(),ue.current=null);const s=await O.getSignedUrl(e);if(!s)throw new Error("Resposta vazia da API");if(s.includes("StatusCode"))try{const e=JSON.parse(s);if(500===e.StatusCode)return ie(`Aula não encontrada: ${e.StatusMessage}`),void ae(!1)}catch(t){}if(!s.includes("#EXTM3U"))throw new Error("Resposta não contém playlist M3U8 válido");const n=new Blob([s],{type:"application/vnd.apple.mpegurl"}),a=URL.createObjectURL(n);ce(!0);const o=await(async()=>{if(me.current)return me.current;try{const e=(await r(()=>import("./hls-DBz5ildx.js"),[])).default;return me.current=e,e}catch(e){throw new Error("Não foi possível carregar o player de vídeo")}})();if(ce(!1),o.isSupported()){const t=new o({enableWorker:!0,lowLatencyMode:!1,maxBufferLength:60,maxMaxBufferLength:120,backBufferLength:30,maxBufferHole:.5,fetchSetup:function(t,r){if(t.url&&t.url.includes("/api/video/key")){const t=L(),r={lessonId:e};return{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)}}return r},xhrSetup:function(t,r){if(r&&r.includes("/api/video/key")){const s=L(),n={lessonId:e};t.open("POST",r),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization",`Bearer ${s}`);const a=JSON.stringify(n),o=t.send;t.send=function(){o.call(this,a)}}}});return ue.current=t,t.loadSource(a),t.attachMedia(de.current),t.on(o.Events.MANIFEST_PARSED,()=>{de.current.play().catch(e=>{})}),t.on(o.Events.ERROR,(e,t)=>{"keySystemError"!==t.type&&"keyLoadError"!==t.type?t.fatal&&ie("Erro ao carregar o vídeo"):ie("Erro ao obter chave de descriptografia. Verifique sua autenticação.")}),()=>{URL.revokeObjectURL(a)}}if(!de.current.canPlayType("application/vnd.apple.mpegurl"))throw new Error("HLS não suportado neste navegador");de.current.src=a,de.current.play().catch(e=>{})}catch(s){ie("Erro ao carregar o vídeo. Usando conteúdo de demonstração.")}finally{ae(!1),ce(!1)}},ge=async()=>{if(de.current)try{I?de.current.pause():await de.current.play(),B(!I)}catch(e){"AbortError"!==e.name&&ie("Erro ao reproduzir o vídeo")}},we=e=>{if(!e||isNaN(e))return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`};return c.useEffect(()=>{de.current&&(de.current.volume=H/100,de.current.muted=0===H)},[H]),c.useEffect(()=>{const e=de.current;if(!e)return;let t;const r=()=>{Y(e.currentTime),X(e.duration||0),q(e.duration?e.currentTime/e.duration*100:0),e.paused||e.ended||(t=requestAnimationFrame(r))},s=()=>{r()},n=()=>{r()},a=()=>{t&&cancelAnimationFrame(t)};return e.addEventListener("loadedmetadata",s),e.addEventListener("play",n),e.addEventListener("pause",a),e.addEventListener("seeked",r),()=>{e.removeEventListener("loadedmetadata",s),e.removeEventListener("play",n),e.removeEventListener("pause",a),e.removeEventListener("seeked",r),t&&cancelAnimationFrame(t)}},[de.current]),n.jsxs(P,{open:E,onOpenChange:_,children:[a&&n.jsx(C,{asChild:!0,children:a}),n.jsx(k,{showCloseButton:!1,className:"bg-neutral-950 border-neutral-800 text-white max-w-[98vw]! w-[98vw]! h-[95dvh]! max-h-[95dvh]! overflow-hidden p-0! sm:max-w-none! sm:h-[95vh]! sm:max-h-[95vh]!",children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs(R,{className:"px-4 py-3 sm:px-6 sm:py-4 border-b border-neutral-800 relative",children:[n.jsx(t,{onClick:()=>_(!1),className:"absolute right-2 top-2 sm:right-4 sm:top-4 text-white hover:bg-white/20 rounded-full p-2 h-8 w-8 sm:h-10 sm:w-10",variant:"ghost",size:"icon",children:n.jsx(d,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),n.jsx(A,{className:"text-lg sm:text-xl font-bold text-white pr-12 sm:pr-16",children:e})]}),n.jsxs("div",{className:"flex flex-1 overflow-hidden flex-col sm:flex-row",children:[n.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[n.jsxs("div",{className:"relative bg-black flex items-center justify-center w-full aspect-video overflow-hidden sm:aspect-auto sm:flex-1 sm:min-h-0",children:[n.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-transparent via-transparent to-black/50 z-10"}),n.jsx("video",{ref:de,className:"absolute inset-0 z-0 w-full h-full object-contain",controls:!1,playsInline:!0,muted:!0,autoPlay:!0,onPlay:()=>{B(!0),G(null)},onPause:()=>B(!1),onLoadedMetadata:()=>{W||(()=>{const e=de.current;if(!e)return;const t=document.createElement("canvas");t.width=e.videoWidth||1280,t.height=e.videoHeight||720;const r=t.getContext("2d");e.currentTime=2;const s=()=>{e.readyState>=2?(r.drawImage(e,0,0,t.width,t.height),G(t.toDataURL()),e.currentTime=0):setTimeout(s,100)};setTimeout(s,500)})()},poster:W}),!I&&W&&!ne&&!oe&&n.jsxs("div",{className:"absolute inset-0 z-10",children:[n.jsx("img",{src:W,alt:"Video poster",className:"w-full h-full object-contain"}),n.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:n.jsx("button",{onClick:ge,className:"bg-green-600 hover:bg-green-500 rounded-full p-6 transition-all duration-200 transform hover:scale-110 shadow-2xl backdrop-blur-sm border-2 border-white/20",children:n.jsx(u,{className:"h-12 w-12 text-white ml-1"})})})]}),fe[U]?.isPaid&&n.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center z-40",children:n.jsxs("div",{className:"text-center p-6 max-w-sm",children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-linear-to-br from-green-600 to-green-500 shadow-lg shadow-green-500/25",children:n.jsx(m,{className:"h-10 w-10 text-white"})})}),n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(h,{className:"h-5 w-5 text-green-400"}),n.jsx("h3",{className:"text-2xl font-bold text-green-400",children:"Conteúdo Exclusivo"}),n.jsx(h,{className:"h-5 w-5 text-green-400"})]}),n.jsx("p",{className:"text-neutral-300 mb-6 text-sm",children:"Esta aula faz parte do pacote completo do curso. Adquira acesso vitalício a todo o conteúdo."}),n.jsxs("div",{className:"space-y-2 mb-6 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 text-neutral-300 text-sm",children:[n.jsx(x,{className:"h-4 w-4 text-green-400"}),n.jsx("span",{children:"Acesso vitalício às aulas"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-neutral-300 text-sm",children:[n.jsx(x,{className:"h-4 w-4 text-green-400"}),n.jsx("span",{children:"Conteúdo exclusivo e avançado"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-neutral-300 text-sm",children:[n.jsx(x,{className:"h-4 w-4 text-green-400"}),n.jsx("span",{children:"Suporte prioritário"})]})]}),n.jsxs(t,{className:"w-full bg-green-600 hover:bg-green-500 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg shadow-green-500/25 border border-green-600/30",onClick:()=>{},children:[n.jsx(h,{className:"h-4 w-4 mr-2"}),"Comprar Agora"]}),n.jsx("p",{className:"text-neutral-500 text-xs mt-4",children:"Pagamento único • Acesso vitalício"})]})}),(ne||le)&&n.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center z-30",children:n.jsxs("div",{className:"text-center",children:[n.jsx(f,{className:"h-8 w-8 animate-spin text-white mx-auto mb-2"}),n.jsx("p",{className:"text-white text-sm",children:le?"Carregando player de vídeo...":"Carregando vídeo..."})]})}),oe&&n.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-30",children:n.jsxs("div",{className:"text-center p-4",children:[n.jsx("p",{className:"text-red-400 text-sm mb-2",children:oe}),n.jsx(t,{variant:"outline",size:"sm",onClick:()=>ve(fe[U].id),className:"text-white border-white/20 hover:bg-white/10",children:"Tentar novamente"})]})}),I&&0===H&&!ne&&!oe&&n.jsx("div",{className:"absolute top-4 right-4 z-30 animate-pulse cursor-pointer",onClick:()=>{K(50),de.current&&(de.current.volume=.5,de.current.muted=!1)},children:n.jsxs("div",{className:"bg-red-600/90 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center gap-2 border-2 border-red-400 hover:bg-red-500/90 transition-all shadow-lg shadow-red-500/30",children:[n.jsx(p,{className:"h-4 w-4 text-white"}),n.jsx("span",{className:"text-white text-sm font-bold",children:"Clique para ativar áudio"})]})}),!ne&&!oe&&!W&&n.jsx("button",{onClick:ge,className:"absolute z-20 bg-white/20 backdrop-blur-sm rounded-full p-3 sm:p-4 hover:bg-white/30 transition-colors",children:I?n.jsx(v,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"}):n.jsx(u,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white ml-1"})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-linear-to-t from-black/80 to-transparent p-3 sm:p-4 z-20",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[n.jsx(t,{variant:"ghost",size:"icon",onClick:ge,disabled:ne||le||!!oe,className:"text-white hover:bg-white/20 disabled:opacity-50",children:I?n.jsx(v,{className:"h-5 w-5"}):n.jsx(u,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx(g,{className:"h-4 w-4 text-white"}),n.jsx(pe,{value:[H],onValueChange:e=>{const t=e[0];K(t),de.current&&(de.current.volume=t/100,de.current.muted=0===t)},max:100,step:1,className:"w-16 sm:w-24"}),0===H&&n.jsx("div",{className:"animate-pulse cursor-pointer hover:scale-110 transition-transform",onClick:()=>{K(50),de.current&&(de.current.volume=.5,de.current.muted=!1)},children:n.jsx(p,{className:"h-4 w-4 text-red-400"})}),H>0&&n.jsx(g,{className:"h-4 w-4 text-green-400"})]}),n.jsx("span",{className:"text-white text-xs min-w-[40px]",children:we(J)}),n.jsx(t,{variant:"ghost",size:"icon",onClick:()=>{de.current&&de.current.requestFullscreen&&de.current.requestFullscreen()},className:"text-white hover:bg-white/20",children:n.jsx(w,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx(y,{value:V,className:"w-full h-1 cursor-pointer bg-neutral-700 video-progress",onClick:e=>{const t=e.currentTarget.getBoundingClientRect();(e=>{const t=e.target.value;if(q(t),de.current&&de.current.duration){const e=t/100*de.current.duration;de.current.currentTime=e,Y(e)}})({target:{value:(e.clientX-t.left)/t.width*100}})}}),n.jsxs("div",{className:"flex justify-between mt-1",children:[n.jsx("span",{className:"text-xs text-neutral-400",children:we(J)}),n.jsx("span",{className:"text-xs text-neutral-400",children:we(F)})]})]})]})]}),n.jsxs("div",{className:"p-3 sm:p-4 border-t border-neutral-800",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2",children:fe[U].title}),n.jsx("p",{className:"text-neutral-400 text-sm",children:fe[U].description})]})]}),n.jsxs("div",{className:"w-full sm:w-80 max-h-[40dvh] sm:max-h-none border-t sm:border-t-0 sm:border-l border-neutral-800 flex flex-col min-h-0 overflow-hidden",children:[n.jsx(D,{className:"flex-1",children:n.jsxs("div",{className:"p-2",children:[ee&&n.jsx("div",{className:"p-4 text-center text-neutral-400",children:"Carregando aulas..."}),re&&n.jsx(z,{className:"mx-2 my-2 border-red-500/20 bg-red-500/10",children:n.jsx(T,{className:"text-red-400",children:"Erro ao carregar aulas. Exibindo conteúdo de demonstração."})}),!ee&&!re&&fe.map((e,r)=>{const s=U===r;return n.jsxs("div",{className:"px-1",children:[n.jsxs(t,{type:"button",variant:"ghost",onClick:()=>(e=>{$(e),B(!1),ie(null),q(0),Y(0),G(null),K(0),de.current&&(de.current.volume=0,de.current.muted=!0)})(r),className:`w-full h-auto justify-start gap-3 rounded-lg px-3 py-3 text-left hover:bg-neutral-900/80 ${s?"bg-neutral-900 border border-neutral-700":"border border-transparent"} ${e.isPaid?"opacity-90":""}`,children:[n.jsxs("div",{className:"relative shrink-0 w-16 h-10 sm:w-20 sm:h-12 rounded-md overflow-hidden bg-neutral-900",children:[n.jsx("img",{src:e.thumbnail||he(e.title,r),alt:e.title,className:"w-full h-full object-cover",onError:t=>{t.target.src=he(e.title,r)}}),s&&I&&!e.isPaid&&n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:n.jsx(v,{className:"h-4 w-4 text-white"})}),e.isPaid&&n.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:n.jsx(m,{className:"h-4 w-4 text-green-400"})})]}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h4",{className:"font-medium text-sm leading-snug whitespace-normal wrap-break-word min-w-0 "+(e.isPaid?"text-green-400":"text-white"),children:e.title}),n.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[n.jsx("div",{className:"flex items-center gap-2",children:e.isPaid&&n.jsxs(S,{variant:"secondary",className:"bg-green-600/15 text-green-400 border border-green-600/30",children:[n.jsx(h,{className:"h-3 w-3 mr-1"}),"Premium"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(b,{className:"h-3 w-3 text-neutral-500"}),n.jsx("span",{className:"text-xs text-neutral-400",children:e.duration})]})]})]})]}),r<fe.length-1&&n.jsx(M,{className:"my-2 bg-neutral-800/70"})]},e.id)})]})}),n.jsxs("div",{className:"p-3 sm:p-4",children:[n.jsx(M,{className:"mb-3 bg-neutral-800"}),n.jsxs(t,{variant:"ghost",className:"w-full border border-green-600/30 text-green-400 bg-neutral-900/50 hover:bg-green-600/10 hover:text-green-300",children:[n.jsx(j,{className:"h-4 w-4 mr-2"}),"Recursos do Curso"]})]})]})]})]})})]})}export{ve as VideoStreamingDialog,ve as default};
